(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e515bffa"],{"035a":function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return d})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return c})),a.d(e,"g",(function(){return s}));var i=a("b775");function r(t){return Object(i["a"])({url:"/dailySettlement/queryRecentEndDatetime",method:"get",params:{cashierId:t}})}function n(t){return Object(i["a"])({url:"/invoice/queryInvoiceInfo",method:"get",params:t})}function d(t){return Object(i["a"])({url:"/dailySettlement/dailySettle",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/dailySettlement/querySettleDetailById",method:"get",params:{id:t}})}function o(t){return Object(i["a"])({url:"/dailySettlement/listDailySettleListRecord",method:"get",params:t})}function c(t){return Object(i["a"])({url:"/invoice/queryInvoiceInfoBySettleId",method:"get",params:{settleRecordId:t}})}function s(t){return Object(i["a"])({url:"/dailySettlement/verifySettle",method:"get",params:t})}},e538:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0 0 0 0"}},[a("aside",{staticStyle:{margin:"0 0 0 0"}},[a("el-button",{staticStyle:{color:"black"},attrs:{disabled:""}},[t._v("门诊日结")])],1),t._v(" "),a("div",{staticStyle:{"margin-left":"30px","margin-top":"15px"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:"起始日期"}},[a("el-date-picker",{attrs:{disabled:"",type:"datetime",placeholder:"选择日期"},model:{value:t.starttime,callback:function(e){t.starttime=e},expression:"starttime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"截止日期"}},[a("el-date-picker",{attrs:{type:"datetime","picker-options":t.pickerOptions,placeholder:"截止日期"},on:{change:t.search},model:{value:t.endtime,callback:function(e){t.endtime=e},expression:"endtime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.queryInvoiceInfo}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.dailySettle}},[t._v("结算报账")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.print}},[t._v("打印")])],1)],1)],1)]),t._v(" "),a("el-main",{staticStyle:{"padding-top":"0","margin-top":"58px"}},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{staticStyle:{"text-align":"center"},attrs:{label:"日结单",name:"first"}},[t.rijiedan?a("div",{staticStyle:{width:"1200px","text-align":"center","padding-left":"200px"},attrs:{id:"table"}},[a("span",[t._v("当归云医院门诊收费日结单")]),t._v(" "),a("table",{staticStyle:{border:"#DEDEDE",padding:"1px"},attrs:{cellpadding:"5",border:"1",cellspacing:"0"}},[a("tr",[a("td",{staticStyle:{width:"200px"}},[t._v("日结时间范围")]),t._v(" "),a("td",{attrs:{colspan:"8"}},[t._v(t._s(t.reportdetail.startDatetime)+"-"+t._s(t.reportdetail.endDatetime))])]),t._v(" "),a("tr",[a("td",[t._v("报账人编号")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.cashierId))]),t._v(" "),a("td",[t._v("收款人编号")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.cashierId))]),t._v(" "),a("td",[t._v("制表时间")]),t._v(" "),a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.reportdetail.createDatetime))])]),t._v(" "),a("tr",[a("td",[t._v("常规发票号")]),t._v(" "),a("td",{attrs:{colspan:"6"}},[t._v(t._s(t.reportdetail.startEndInvoiceIdStr))]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("共计"+t._s(t.reportdetail.invoiceNum)+"张")])]),t._v(" "),a("tr",[a("td",[t._v("冲红发票号")]),t._v(" "),a("td",{attrs:{colspan:"6"}},[t._v(t._s(t.reportdetail.rushInvoiceIdListStr))]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("共计"+t._s(t.reportdetail.rushInvoiceNum)+"张")])]),t._v(" "),a("tr",[a("td",[t._v("重打发票号")]),t._v(" "),a("td",{attrs:{colspan:"6"}},[t._v(t._s(t.reportdetail.reprintInvoiceIdListStr))]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("共计"+t._s(t.reportdetail.reprintInvoiceNum)+"张")])]),t._v(" "),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("金额统计")]),t._v(" "),a("td",{staticStyle:{width:"10%"}},[t._v("检查金额")]),t._v(" "),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(t.reportdetail.checkAmount))]),t._v(" "),a("td",{staticStyle:{width:"10%"}},[t._v("检验金额")]),t._v(" "),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(t.reportdetail.testAmount))]),t._v(" "),a("td",{staticStyle:{width:"10%"}},[t._v("挂号金额")]),t._v(" "),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(t.reportdetail.registrationAmount))]),t._v(" "),a("td",{staticStyle:{width:"10%"}}),t._v(" "),a("td",{staticStyle:{width:"10%"}})]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("成药金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.medicineAmount))]),t._v(" "),a("td",[t._v("草药金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.herbalAmount))]),t._v(" "),a("td",[t._v("处置金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.dispositionAmount))]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("缴费方式")]),t._v(" "),a("td",[t._v("医保金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.insuranceAmount))]),t._v(" "),a("td",[t._v("银行卡金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.bankCardAmount))]),t._v(" "),a("td",[t._v("支付宝金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.alipayAmount))]),t._v(" "),a("td",[t._v("微信金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.wechatAmount))])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("信用卡金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.creditCardAmount))]),t._v(" "),a("td",[t._v("其他金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.otherAmount))]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("总金额")]),t._v(" "),a("td",[t._v(t._s(t.reportdetail.amount))]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")])])]):t._e()]),t._v(" "),a("el-tab-pane",{attrs:{label:"发票信息",name:"second"}},[a("el-table",{attrs:{data:t.InvoiceInfoList,stripe:""}},[a("el-table-column",{attrs:{label:"发票号",prop:"invoiceNo"}}),t._v(" "),a("el-table-column",{attrs:{label:"发票金额",prop:"amount"}}),t._v(" "),a("el-table-column",{attrs:{label:"发票时间",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"账单号",prop:"billId"}}),t._v(" "),a("el-table-column",{attrs:{label:"支付类型",prop:"settlementCatName"}}),t._v(" "),a("el-table-column",{attrs:{label:"收费员id",prop:"operatorId"}})],1)],1)],1)],1)],1)],1)},r=[],n=(a("1bc7"),a("ed08")),d=a("035a"),l=(a("6266"),{data:function(){return{rijiedan:!1,reportdetail:[],InvoiceInfoList:[],starttime:"2019-06-10 14:10:45",endtime:"",activeName:"first",pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},test:[{id:111,name:222},{id:111,name:222},{id:111,name:222},{id:111,name:222}]}},created:function(){var t=this;Object(d["e"])(this.$store.getters.id).then((function(e){t.starttime=Object(n["f"])(e.data)}))},methods:{print:function(t){var e=document.getElementById("table"),a=e.innerHTML,i=document.body.innerHTML;return document.body.innerHTML=a,window.print(),window.location.reload(),document.body.innerHTML=i,!1},querySettleDetailById:function(t){var e=this;Object(d["f"])(t).then((function(t){e.reportdetail=t.data,e.reportdetail.startDatetime=Object(n["f"])(e.reportdetail.startDatetime),e.reportdetail.endDatetime=Object(n["f"])(e.reportdetail.endDatetime),e.reportdetail.createDatetime=Object(n["f"])(e.reportdetail.createDatetime)}))},queryInvoiceInfo:function(){var t=this,e={};e.cashierId=this.$store.getters.id,e.startDatetime=Object(n["f"])(this.starttime),e.endDatetime=Object(n["f"])(this.endtime),Object(d["c"])(e).then((function(e){t.InvoiceInfoList=e.data,t.InvoiceInfoList.forEach((function(t){t.createTime=Object(n["f"])(t.createTime)}))}))},dailySettle:function(){var t=this,e={};e.cashierId=this.$store.getters.id,e.startDatetime=Object(n["f"])(this.starttime),e.endDatetime=Object(n["f"])(this.endtime),Object(d["a"])(e).then((function(e){t.$notify({title:"成功",message:"已生成日结单",type:"success",duration:2e3}),t.rijiedan=!0,t.querySettleDetailById(e.data)}))}}}),o=l,c=a("cba8"),s=Object(c["a"])(o,i,r,!1,null,null,null);e["default"]=s.exports}}]);