(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e022f5b"],{"09f4":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),Math.easeInOutQuad=function(t,e,i,a){return t/=a/2,t<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function s(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(t,e,i){var r=n(),l=t-r,o=20,c=0;e="undefined"===typeof e?500:e;var d=function t(){c+=o;var n=Math.easeInOutQuad(c,r,l,e);s(n),c<e?a(t):i&&"function"===typeof i&&i()};d()}},"0cd6":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"div1"},[i("el-container",[i("transition",{attrs:{name:"el-zoom-in-left"}},[i("el-aside",{directives:[{name:"show",rawName:"v-show",value:t.isaside,expression:"isaside"}],staticStyle:{padding:"0"},attrs:{width:"350px"}},[i("div",[i("el-card",{staticStyle:{width:"350px"}},[i("span",{staticStyle:{"font-family":"'微软雅黑'"}},[t._v("选择患者:")]),t._v(" "),i("el-input",{staticClass:"filter-item input1",staticStyle:{width:"180px"},attrs:{placeholder:"患者名"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",circle:"",icon:"el-icon-refresh"},on:{click:t.getPatientList}}),t._v(" "),i("el-tabs",{staticStyle:{"margin-top":"15px"},attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"本人",name:"first"}},[i("el-tag",{staticStyle:{width:"100%"}},[t._v("待诊患者")]),t._v(" "),i("el-table",{attrs:{"highlight-current-row":"",stripe:"",data:t.personalWaitList.filter((function(e){return!t.search||e.patientName.toLowerCase().includes(t.search.toLowerCase())||e.patientMedicalRecordNo.toLowerCase().includes(t.search.toLowerCase())})),height:"255"},on:{"row-click":t.handleCurrentChange}},[i("el-table-column",{attrs:{align:"center",label:"病历号",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientMedicalRecordNo)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"名字",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientName)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"年龄",width:"65px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientAge)+"\n        ")]}}])})],1),t._v(" "),i("el-tag",{staticStyle:{width:"100%"},attrs:{type:"success"}},[t._v("诊中患者")]),t._v(" "),i("el-table",{attrs:{"highlight-current-row":"",stripe:"",data:t.personalDuringList.filter((function(e){return!t.search||e.patientName.toLowerCase().includes(t.search.toLowerCase())||e.patientMedicalRecordNo.toLowerCase().includes(t.search.toLowerCase())})),height:"255"},on:{"row-click":t.continuing}},[i("el-table-column",{attrs:{align:"center",label:"病历号",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientMedicalRecordNo)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"名字",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientName)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"年龄",width:"65px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientAge)+"\n        ")]}}])})],1),t._v(" "),i("el-tag",{staticStyle:{width:"100%"},attrs:{type:"warning"}},[t._v("已诊患者")]),t._v(" "),i("el-table",{attrs:{stripe:"",data:t.personalEndList.filter((function(e){return!t.search||e.patientName.toLowerCase().includes(t.search.toLowerCase())||e.patientMedicalRecordNo.toLowerCase().includes(t.search.toLowerCase())})),height:"255"}},[i("el-table-column",{attrs:{align:"center",label:"病历号",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientMedicalRecordNo)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"名字",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientName)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"年龄",width:"65px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.patientAge)+"\n        ")]}}])})],1)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"科室",name:"second"}},[i("el-tag",{staticStyle:{width:"100%"}},[t._v("待诊患者")]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loaddepp,expression:"loaddepp"}],attrs:{"highlight-current-row":"",stripe:"",data:t.deptWaitList.filter((function(e){return!t.search||e.patientName.toLowerCase().includes(t.search.toLowerCase())||e.patientMedicalRecordNo.toLowerCase().includes(t.search.toLowerCase())})),height:"820"},on:{"row-click":t.bindPatient}},[i("el-table-column",{attrs:{align:"center",label:"病历号",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.patientMedicalRecordNo)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"名字",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.patientName)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"年龄",width:"65px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.patientAge)+"\n          ")]}}])})],1)],1)],1)],1)],1)])],1),t._v(" "),i("el-main",[t.mask?i("div",{staticClass:"popContainer"}):t._e(),t._v(" "),i("div",{staticStyle:{"border-style":"dotted","border-width":"0px 0px 1px 0px","border-color":"#C0C0C0",padding:"0 0 10px 0","margin-bottom":"-10px"}},[i("el-button",{attrs:{size:"mini",circle:"",type:"primary"},on:{click:t.showaside}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.isaside,expression:"isaside"}],staticClass:"el-icon-arrow-left"}),i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isaside,expression:"!isaside"}],staticClass:"el-icon-arrow-right"})]),t._v(" "),i("span",{staticStyle:{"margin-left":"15px","font-size":"14px","font-family":"'微软雅黑'"}},[t._v("当前病人：")]),t._v(" "),i("el-tag",{staticClass:"painfo",staticStyle:{width:"15%","font-size":"15px"},attrs:{color:"white"}},[t._v("姓名: "),i("span",{staticStyle:{color:"black","font-size":"14px","font-family":"'微软雅黑'"}},[t._v(t._s(t.patient.patientName))])]),t._v(" "),i("el-tag",{staticClass:"painfo",staticStyle:{width:"20%","font-size":"15px"},attrs:{color:"white"}},[t._v("就诊号: "),i("span",{staticStyle:{color:"black","font-size":"14px","font-family":"'微软雅黑'"}},[t._v(t._s(t.patient.patientMedicalRecordNo))])]),t._v(" "),i("el-tag",{staticClass:"painfo",staticStyle:{width:"10%","font-size":"15px"},attrs:{color:"white"}},[t._v("性别: "),1===t.patient.patientGender?i("span",{staticStyle:{color:"black","font-size":"14px","font-family":"'微软雅黑'"}},[t._v("女")]):t._e(),0===t.patient.patientGender?i("span",{staticStyle:{color:"black"}},[t._v("男")]):t._e()]),t._v(" "),i("el-tag",{staticClass:"painfo",staticStyle:{width:"10%","font-size":"15px"},attrs:{color:"white"}},[t._v("年龄: "),i("span",{staticStyle:{color:"black","font-size":"14px","font-family":"'微软雅黑'"}},[t._v(t._s(t.patient.patientAge))])]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text"},on:{click:t.endDiagnosis}},[i("i",{staticClass:"el-icon-success"}),t._v("诊毕")])],1),t._v(" "),i("div",{staticStyle:{}},[i("el-tabs",{staticStyle:{"margin-top":"20px"},attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName2,callback:function(e){t.activeName2=e},expression:"activeName2"}},[i("el-tab-pane",{attrs:{label:"病历首页",disabled:!t.firstdisabled,name:"first"}},[i("Record",{ref:"record",attrs:{patient:t.patient},on:{priliminary:t.priliminary}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"检查申请",disabled:t.firstdisabled,name:"second"}},[i("Inspection",{ref:"inspection",attrs:{patient:t.patient}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"检验申请",disabled:t.firstdisabled,name:"third"}},[i("Examine",{ref:"examine",attrs:{patient:t.patient}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"门诊确诊",disabled:t.firstdisabled||!t.comfirmdisabled,name:"fourth"}},[i("Comfirm",{ref:"comfirm",attrs:{patient:t.patient},on:{comfirmdms:t.comfirmdms}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"成药处方",disabled:t.firstdisabled||t.comfirmdisabled,name:"fiveth"}},[i("Prescription",{ref:"prescription",attrs:{patient:t.patient}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"草药处方",disabled:t.firstdisabled||t.comfirmdisabled,name:"eightth"}},[i("Cprescription",{ref:"cprescription",attrs:{patient:t.patient}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"处置申请",disabled:t.firstdisabled||t.comfirmdisabled,name:"sixth"}},[i("Handle",{ref:"cprescription",attrs:{patient:t.patient}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:"患者账单",disabled:t.firstdisabled,name:"seventh"}},[i("Bill",{ref:"bill",attrs:{patient:t.patient}})],1)],1)],1)])],1)],1)},s=[],n=(i("e186"),i("c6da")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",[i("el-aside",{staticStyle:{background:"white"},attrs:{width:t.mainwidth}},[i("el-tag",{staticStyle:{"margin-bottom":"20px"}},[t._v("病史内容:")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text"},on:{click:t.saveCasePage}},[i("i",{staticClass:"el-icon-upload2"}),t._v("暂存")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text"},on:{click:t.getCasePage}},[i("i",{staticClass:"el-icon-download"}),t._v("取出暂存病历")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:t.controlfast}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isclose,expression:"!isclose"}],staticClass:"el-icon-caret-right"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticClass:"el-icon-caret-left"}),t._v("  快捷操作")]),t._v(" "),i("el-form",{attrs:{model:t.record,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"主诉"}},[i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:3},placeholder:"主述"},model:{value:t.priliminaryDise.chiefComplaint,callback:function(e){t.$set(t.priliminaryDise,"chiefComplaint",e)},expression:"priliminaryDise.chiefComplaint"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"现病史"}},[i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"现病史"},model:{value:t.priliminaryDise.historyOfPresentIllness,callback:function(e){t.$set(t.priliminaryDise,"historyOfPresentIllness",e)},expression:"priliminaryDise.historyOfPresentIllness"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"现病治疗情况"}},[i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"现病治疗情况"},model:{value:t.priliminaryDise.historyOfTreatment,callback:function(e){t.$set(t.priliminaryDise,"historyOfTreatment",e)},expression:"priliminaryDise.historyOfTreatment"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"既往史"}},[i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"既往史"},model:{value:t.priliminaryDise.pastHistory,callback:function(e){t.$set(t.priliminaryDise,"pastHistory",e)},expression:"priliminaryDise.pastHistory"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"过敏史"}},[i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"过敏史"},model:{value:t.priliminaryDise.allergies,callback:function(e){t.$set(t.priliminaryDise,"allergies",e)},expression:"priliminaryDise.allergies"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"体格检查"}},[i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"体格检查"},model:{value:t.priliminaryDise.healthCheckup,callback:function(e){t.$set(t.priliminaryDise,"healthCheckup",e)},expression:"priliminaryDise.healthCheckup"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"发病时间"}},[i("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions},model:{value:t.priliminaryDise.startDate,callback:function(e){t.$set(t.priliminaryDise,"startDate",e)},expression:"priliminaryDise.startDate"}})],1)],1),t._v(" "),i("el-tag",[t._v("评估诊断:")]),t._v(" "),i("el-card",{staticStyle:{width:"85%"}},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:t.addDis}},[t._v("添加诊断")]),t._v(" "),i("el-table",{attrs:{data:t.record}},[i("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.deleteDis(e.row)}}},[t._v("删除")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"ICD编码",prop:"icd"}}),t._v(" "),i("el-table-column",{attrs:{label:"名称",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"编码",prop:"code"}})],1)],1),t._v(" "),i("div",{staticStyle:{float:"right",width:"25%","margin-top":"40px"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.submitPriliminaryDise}},[t._v("提交初诊")])],1)],1),t._v(" "),i("transition",{attrs:{name:"el-zoom-in-left"}},[i("el-main",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticStyle:{"border-style":"dotted","border-width":"0px 0px 0px 1px","border-color":"#C0C0C0","margin-top":"-12px"},attrs:{width:"50%"}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"病历模板",name:"first"}},[i("el-table",{attrs:{stripe:"",data:t.models,height:"230"},on:{"row-click":t.selectmodel,"row-dblclick":t.addmodel}},[i("el-table-column",{attrs:{label:"病历名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.name)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"主要诊断"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.dis)+"\n          ")]}}])})],1),t._v(" "),void 0!==t.model.name?i("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"font-size: 14px;font-family:'微软雅黑';width:350px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.model.name))])]),t._v(" "),i("p",[i("b",[t._v("主述：")]),t._v(t._s(t.model.chiefComplaint))]),t._v(" "),i("p",[i("b",[t._v("现病史：")]),t._v(t._s(t.model.historyOfPresentIllness))]),t._v(" "),i("p",[i("b",[t._v("现病治疗情况: ")]),t._v(t._s(t.model.historyOfTreatment))]),t._v(" "),i("p",[i("b",[t._v("既往史：")]),t._v(t._s(t.model.pastHistory))]),t._v(" "),i("p",[i("b",[t._v("过敏史：")]),t._v(t._s(t.model.allergies))]),t._v(" "),i("p",[i("b",[t._v("体格检查: ")]),t._v(t._s(t.model.healthCheckup))]),t._v(" "),i("p",[i("b",[t._v("主要诊断: ")]),t._v(t._s(t.model.dis))])]):t._e()],1),t._v(" "),i("el-tab-pane",{attrs:{label:"常用诊断",name:"second"}},[i("el-table",{attrs:{data:t.medicineDiseIdList},on:{"row-click":t.selectDis}},[i("el-table-column",{attrs:{label:"ICD编码",prop:"icd"}}),t._v(" "),i("el-table-column",{attrs:{label:"名称",prop:"name"}})],1)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"历史病历",name:"third"}},[i("el-table",{attrs:{"highlight-current-row":"",height:"230",data:t.history},on:{"row-click":t.selecthistory}},[i("el-table-column",{attrs:{label:"主要诊断",prop:"priliminaryDiseStrList"}}),t._v(" "),i("el-table-column",{attrs:{label:"就诊时间",prop:"createTime"}})],1),t._v(" "),i("el-card",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.historyitem.priliminaryDiseStrList,expression:"historyitem.priliminaryDiseStrList!==undefined"}],staticClass:"box-card",attrs:{shadow:"never","body-style":"font-size: 14px;font-family:'微软雅黑';width:470px;height:500px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("病历详情")])]),t._v(" "),i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",{staticStyle:{width:"100%"}},[i("p",[i("b",[t._v("就诊时间: ")]),t._v(t._s(t.historyitem.createTime))]),t._v(" "),i("p",[i("b",[t._v("主要诊断: ")]),t._v(t._s(t.historyitem.priliminaryDiseStrList))]),i("p"),i("p",[i("b",[t._v("主述: ")]),t._v(t._s(t.historyitem.chiefComplaint))]),t._v(" "),i("p",[i("b",[t._v("现病史: ")]),t._v(t._s(t.historyitem.historyOfPresentIllness))]),t._v(" "),i("p",[i("b",[t._v("现病治疗情况: ")]),t._v(t._s(t.historyitem.historyOfTreatment))]),t._v(" "),i("p",[i("b",[t._v("既往史: ")]),t._v(t._s(t.historyitem.pastHistory))]),t._v(" "),i("p",[i("b",[t._v("过敏史: ")]),t._v(t._s(t.historyitem.allergies))]),t._v(" "),i("p",[i("b",[t._v("体格检查: ")]),t._v(t._s(t.historyitem.healthCheckup))]),t._v(" "),i("p",[i("b",[t._v("发病时间: ")]),t._v(t._s(t.historyitem.startDate))]),t._v(" "),i("p",[i("b",[t._v("检查结果: ")]),t._v(t._s(t.historyitem.checkResult))]),t._v(" "),i("p",[i("b",[t._v("检验结果: ")]),t._v(t._s(t.historyitem.testResult))]),t._v(" "),i("p",[i("b",[t._v("成药处方: ")]),t._v(t._s(t.historyitem.medicinePrescriptionStrList))]),t._v(" "),i("p",[i("b",[t._v("草药处方: ")]),t._v(t._s(t.historyitem.herbalPrescriptionStrList))]),t._v(" "),i("p",[i("b",[t._v("检验项目: ")]),t._v(t._s(t.historyitem.testStrList))]),t._v(" "),i("p",[i("b",[t._v("检查项目: ")]),t._v(t._s(t.historyitem.checkStrList))]),t._v(" "),i("p",[i("b",[t._v("处置项目: ")]),t._v(t._s(t.historyitem.dispositionStrList))])])])],1)],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"诊断目录",visible:t.dialogTableVisible,top:"50px"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("div",{staticStyle:{height:"520px"}},[i("span",[t._v("搜索诊断")]),t._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索诊断"},on:{change:t.getDis},model:{value:t.disQuery.name,callback:function(e){t.$set(t.disQuery,"name",e)},expression:"disQuery.name"}}),t._v(" "),i("el-table",{staticStyle:{"margin-top":"20px"},attrs:{"highlight-current-row":"",data:t.disList},on:{"row-click":t.selectDis}},[i("el-table-column",{attrs:{property:"icd",label:"ICD编码",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{property:"name",label:"名称",width:"350"}}),t._v(" "),i("el-table-column",{attrs:{property:"code",label:"编码",width:"200"}})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticStyle:{"margin-top":"0px"},attrs:{"auto-scroll":!1,total:t.total,"page-sizes":"[]",page:t.disQuery.pageNum,limit:t.disQuery.pageSize},on:{"update:page":function(e){return t.$set(t.disQuery,"pageNum",e)},"update:limit":function(e){return t.$set(t.disQuery,"pageSize",e)},pagination:t.getDis}})],1)])],1)},l=[],o=(i("1bc7"),i("a450"),i("7665")),c=i("b775");function d(t){return Object(c["a"])({url:"/caseHistory/submitPriliminaryDise",method:"post",params:{chiefComplaint:t.chiefComplaint,historyOfPresentIllness:t.historyOfPresentIllness,historyOfTreatment:t.historyOfTreatment,pastHistory:t.pastHistory,allergies:t.allergies,healthCheckup:t.healthCheckup,registrationId:t.registrationId,priliminaryDiseStrList:t.priliminaryDiseStrList,priliminaryDiseIdList:t.priliminaryDiseIdList,startDate:t.startDate,name:t.name,gender:t.gender,ageStr:t.ageStr}})}function u(t){return Object(c["a"])({url:"/caseHistory/submitDefiniteDise",method:"post",params:t})}function p(t){return Object(c["a"])({url:"/caseHistory/endDiagnosis",method:"post",params:{registrationId:t}})}function m(t){return Object(c["a"])({url:"/caseHistory/selectEndCaseHistoryByReg/"+t,method:"get"})}function h(t){return Object(c["a"])({url:"/caseHistory/selectNotEndCaseHistoryByReg/"+t,method:"get",params:{registrationId:t}})}var f=i("5dd3"),v=i("333d"),b=i("e3c7"),g=i("ed08");function _(t){return Object(c["a"])({url:"/redisSave/saveCasePage",method:"post",params:{registrationId:t.registrationId},data:t})}function y(t){return Object(c["a"])({url:"/redisSave/getCasePage",method:"post",params:{registrationId:t},data:t})}function w(t){return Object(c["a"])({url:"/redisSave/saveNonDrug",method:"post",params:{registrationId:t.registrationId,type:t.type},data:t})}function k(t){return Object(c["a"])({url:"/redisSave/getNonDrug",method:"post",params:{registrationId:t.registrationId,type:t.type},data:t})}function x(t,e,i){return Object(c["a"])({url:"/redisSave/saveDrugPrescription",method:"post",params:{registrationId:e,type:i},data:t})}function S(t){return Object(c["a"])({url:"/redisSave/getDrugPrescription",method:"post",params:{registrationId:t.registrationId,type:t.type}})}var D={props:["patient"],name:"Record",components:{Pagination:v["a"]},data:function(){return{history:[],historyitem:{},pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dialogTableVisible:!1,activeName:"first",isclose:!1,record:[],medicineDiseIdList:[],priliminaryDise:{chiefComplaint:"",historyOfPresentIllness:"",historyOfTreatment:"",pastHistory:"",allergies:"",healthCheckup:"",registrationId:"",priliminaryDiseStrList:"",priliminaryDiseIdList:"",startDate:"",name:"",gender:"",ageStr:""},mainwidth:"80%",activeNames:["1"],data2:[{date:"0001",name:"王小虎1",address:"38岁"},{date:"0002",name:"王小虎2",address:"39岁"}],total:0,disQuery:{catId:"",code:"",name:"",icd:"",status:"",pageSize:8,pageNum:1},models:[],model:{},disList:[]}},created:function(){this.getmedicineDiseIdList(),this.getAllStaffModel()},watch:{patient:function(t,e){this.patient=t,this.selectEndCaseHistoryByReg(),this.getCasePage()}},methods:{addmodel:function(t){var e=this;this.$confirm("是否加载病历模板 "+t.name+" ?","加载病历模板",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){e.priliminaryDise=Object(g["c"])(t);var i="";e.priliminaryDise.priliminaryDiseIdList.forEach((function(t){i+=t+","})),i=i.substr(0,i.length-1),Object(o["i"])(i).then((function(t){e.record=t.data}))}))},selectmodel:function(t){this.model=t},getAllStaffModel:function(){var t=this;Object(f["c"])(this.$store.getters.id).then((function(e){t.models=e.data.staffList,t.models.forEach((function(t){t.dis="",t.priliminaryDiseStrList.forEach((function(e){t.dis+=e+","})),t.dis=t.dis.substr(0,t.dis.length-1)}))}))},saveCasePage:function(){var t=this,e=this.priliminaryDise;e.registrationId=this.patient.registrationId,_(this.priliminaryDise).then((function(e){t.$notify({title:"成功",message:"已暂存病历首页",type:"success",duration:2e3})}))},getCasePage:function(){var t=this;y(this.patient.registrationId).then((function(e){null!==e.data&&(t.priliminaryDise=e.data,t.$notify({title:"成功",message:"已加载暂存病历首页",type:"success",duration:2e3}))}))},selecthistory:function(t){this.historyitem=t},selectEndCaseHistoryByReg:function(){var t=this;m(this.patient.registrationId).then((function(e){t.history=e.data.dmsCaseHistoryList,t.history.forEach((function(t){t.createTime=Object(g["f"])(t.createTime),t.startDate=Object(g["f"])(t.startDate)}))}))},getmedicineDiseIdList:function(){var t=this;Object(b["c"])({staffId:this.$store.getters.id,selectType:2}).then((function(e){t.medicineDiseIdList=e.data.medicineDiseList}))},submitPriliminaryDise:function(){var t=this;this.priliminaryDise.registrationId=this.patient.registrationId,this.record.forEach((function(e){t.priliminaryDise.priliminaryDiseStrList+=e.name+",",t.priliminaryDise.priliminaryDiseIdList+=e.id+","})),this.priliminaryDise.priliminaryDiseStrList=this.priliminaryDise.priliminaryDiseStrList.substr(0,this.priliminaryDise.priliminaryDiseStrList.length-1),this.priliminaryDise.priliminaryDiseIdList=this.priliminaryDise.priliminaryDiseIdList.substr(0,this.priliminaryDise.priliminaryDiseIdList.length-1),this.priliminaryDise.name=this.patient.patientName,this.priliminaryDise.gender=this.patient.patientGender,this.priliminaryDise.startDate=Object(g["f"])(this.priliminaryDise.startDate).substr(0,10),this.priliminaryDise.ageStr=this.patient.patientAge,d(this.priliminaryDise).then((function(e){t.$notify({title:"成功",message:"成功提交初诊病历",type:"success",duration:2e3}),t.$emit("priliminary")}))},deleteDis:function(t){this.record=this.record.filter((function(e){return e.id!==t.id}))},selectDis:function(t){var e=this;this.$confirm("是否添加 "+t.name+" 到该患者?","添加诊断",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){var i=1;e.record.forEach((function(e){e.icd===t.icd&&(i=0)})),i?e.record.push(t):alert("已存在该诊断！"),e.dialogTableVisible=!1}))},getDis:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["g"])(this.disQuery);case 2:e=t.sent,this.disList=e.data.list,this.total=e.data.total;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadpatient:function(){},addDis:function(){this.dialogTableVisible=!0,this.getDis()},controlfast:function(){this.isclose=!this.isclose,"60%"===this.mainwidth?this.mainwidth="80%":this.mainwidth="60%"}}},C=D,N=(i("0e8e"),i("cba8")),I=Object(N["a"])(C,r,l,!1,null,null,null),L=I.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-aside",{staticStyle:{background:"white",padding:"0 10px 0 0"},attrs:{width:t.mainwidth}},[i("aside",{staticStyle:{margin:"0 0 0 0"}},[i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.addcheck}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("新增项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.delcheck}},[i("i",{staticClass:"el-icon-remove-outline"}),t._v("删除项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.apply}},[i("i",{staticClass:"el-icon-circle-check"}),t._v("开立项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.invalid}},[i("i",{staticClass:"el-icon-circle-close"}),t._v("作废项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.saveNonDrug}},[i("i",{staticClass:"el-icon-upload2"}),t._v("暂存")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.getNonDrug}},[i("i",{staticClass:"el-icon-download"}),t._v("取出暂存项")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.refresh}},[i("i",{staticClass:"el-icon-refresh"}),t._v("刷新")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:t.controlfast}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isclose,expression:"!isclose"}],staticClass:"el-icon-caret-right"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticClass:"el-icon-caret-left"})])],1),t._v(" "),i("el-tag",{attrs:{type:"primary"}},[t._v("项目金额总计:")]),t._v(" "),i("el-tag",{attrs:{type:"warning"}},[t._v(t._s(t.totalprice)+" 元")]),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.record,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{align:"center",type:"selection",width:"55"},on:{"selection-change":t.handleSelectionChange}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"项目编码",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.code))]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"name",label:"项目名称",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"deptName",label:"执行科室",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"format",label:"单位","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"price",label:"单价","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"状态","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.status?i("el-tag",{attrs:{type:"warning"}},[t._v("未开立")]):t._e(),t._v(" "),0===e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v("已作废")]):t._e(),t._v(" "),1===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("未缴费")]):t._e(),t._v(" "),2===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("未登记")]):t._e(),t._v(" "),3===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("已登记")]):t._e(),t._v(" "),4===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已执行")]):t._e(),t._v(" "),5===e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v("已退费")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.status?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.demand(e.row)}}},[t._v("检查要求")]):t._e(),t._v(" "),4===e.row.status?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.showresult(e.row)}}},[t._v("查看结果")]):t._e()]}}])})],1)],1),t._v(" "),i("transition",{attrs:{name:"el-zoom-in-left"}},[i("el-main",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticStyle:{"border-style":"dotted","border-width":"0px 0px 0px 1px","border-color":"#C0C0C0","margin-top":"-12px"},attrs:{width:"50%"}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"检查模板",name:"first"}},[i("el-table",{attrs:{"highlight-current-row":"",stripe:"",data:t.checkmodels,height:"230"},on:{"row-dblclick":t.addModel,"row-click":t.selectModel}},[i("el-table-column",{attrs:{label:"模板名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.name)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"模板简介"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.aim)+"\n          ")]}}])})],1),t._v(" "),i("el-card",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.onemodel.name,expression:"onemodel.name!==undefined"}],staticClass:"box-card",attrs:{shadow:"never","body-style":"font-size: 14px;font-family:'微软雅黑';width:350px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("模板详情")])]),t._v(" "),i("p",[i("b",[t._v("模板名:")]),t._v(" "+t._s(t.onemodel.name))]),t._v(" "),i("p",[i("b",[t._v("模板内容:")])]),t._v(" "),t._l(t.onemodel.nondruglist,(function(e,a){return i("p",{key:a},[i("b"),t._v(" "+t._s(e.name))])})),t._v(" "),i("p",[i("b",[t._v("总金额：")]),t._v(t._s(t.onemodel.totalprice)+" 元")])],2)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"常用检查项",name:"second"}},[i("el-table",{attrs:{data:t.freqlist,"highlight-current-row":""},on:{"row-click":t.addfreitem}},[i("el-table-column",{attrs:{label:"项目名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"项目单价",prop:"price"}}),t._v(" "),i("el-table-column",{attrs:{label:"编码",prop:"code"}})],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"检查目录",visible:t.dialogTableVisible,top:"50px"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("div",{staticStyle:{height:"450px"}},[i("span",[t._v("搜索检查")]),t._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索检查"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),i("el-table",{staticStyle:{"margin-top":"20px"},attrs:{height:"400px","highlight-current-row":"",data:t.checkList.filter((function(e){return!t.search||e.name.toLowerCase().includes(t.search.toLowerCase())||e.code.toLowerCase().includes(t.search.toLowerCase())}))},on:{"row-click":t.selectCheck}},[i("el-table-column",{attrs:{property:"name",label:"项目名"}}),t._v(" "),i("el-table-column",{attrs:{property:"code",label:"项目编码"}}),t._v(" "),i("el-table-column",{attrs:{property:"price",label:"价格"}})],1)],1)]),t._v(" "),i("el-dialog",{attrs:{title:"填写检查要求",visible:t.demandVisible},on:{"update:visible":function(e){t.demandVisible=e}}},[i("div",{staticStyle:{height:"260px"}},[i("el-form",{attrs:{inline:"","label-width":"100px"}},[i("el-form-item",{attrs:{label:"项目编码"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.code,callback:function(e){t.$set(t.check,"code",e)},expression:"check.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"项目名称"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.name,callback:function(e){t.$set(t.check,"name",e)},expression:"check.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"执行科室"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.deptName,callback:function(e){t.$set(t.check,"deptName",e)},expression:"check.deptName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"目的"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.aim,callback:function(e){t.$set(t.check,"aim",e)},expression:"check.aim"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"要求"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.demand,callback:function(e){t.$set(t.check,"demand",e)},expression:"check.demand"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"临床印象"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.clinicalImpression,callback:function(e){t.$set(t.check,"clinicalImpression",e)},expression:"check.clinicalImpression"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"临床诊断"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.clinicalDiagnosis,callback:function(e){t.$set(t.check,"clinicalDiagnosis",e)},expression:"check.clinicalDiagnosis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"检查部位"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.checkParts,callback:function(e){t.$set(t.check,"checkParts",e)},expression:"check.checkParts"}})],1)],1),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"danger"},on:{click:function(e){t.demandVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.submitDemand}},[t._v("确认")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"检查结果",visible:t.resultvisible,top:"10px"},on:{"update:visible":function(e){t.resultvisible=e}}},[i("div",{staticClass:"block",staticStyle:{height:"100%",width:"100%"}},[i("span",[t._v("检查结果："+t._s(t.checkresult))]),t._v(" "),i("el-carousel",{staticStyle:{"margin-top":"30px"},attrs:{trigger:"click",height:"500px"}},t._l(t.checkresultimg,(function(t){return i("el-carousel-item",{key:t},[i("img",{staticStyle:{height:"100%"},attrs:{src:t}})])})),1)],1)])],1)},j=[],$=(i("aa18"),i("982e"),i("fc02"),i("0c84"),i("a6b2"));function R(t){return Object(c["a"])({url:"/nonDrugItemRecord/apply",method:"post",data:t})}function T(t,e){return Object(c["a"])({url:"/nonDrugItemRecord/listByRegAndType",method:"post",params:{registrationId:t,type:e}})}function z(t){return Object(c["a"])({url:"/nonDrugItemRecord/invalid",method:"post",params:{ids:t}})}var P,M=i("15d7"),E=i("51a4"),B={props:["patient"],name:"Inspection",data:function(){return{resultvisible:!1,checkresult:"",checkresultimg:[],freqlist:[],onemodel:{},totalprice:0,ref:[],checkmodels:[],check:{},demandVisible:!1,dialogTableVisible:!1,activeName:"first",isclose:!0,checkList:[],mainwidth:"65%",activeNames:["1"],total:0,search:"",listQuery:{code:null,name:null,format:null,price:null,expClassId:null,deptId:null,mnemonicCode:null,recordType:1,createDate:null,status:1,pageSize:1e3,pageNum:1},record:[]}},watch:{patient:function(t,e){this.patient=t,this.listRecord()}},created:function(){var t=this;E["Promise"].all([this.getNondrugList().then((function(){t.getmodel()}))]),this.getfreqList()},methods:{saveNonDrug:function(){var t=this,e={};e.dmsNonDrugItemRecordParamList=this.ref,e.registrationId=this.patient.registrationId,e.type=0,w(e).then((function(e){t.$notify({title:"成功",message:"已暂存选中的检查项",type:"success",duration:2e3})}))},getNonDrug:function(){var t=this,e={};e.registrationId=this.patient.registrationId,e.type=0,k(e).then((function(e){e.data.dmsNonDrugItemRecordParamList.forEach((function(e){t.selectCheckred(e)})),t.$notify({title:"成功",message:"已取出暂存的检查项",type:"success",duration:2e3})}))},showresult:function(t){var e=this;this.checkresult=t.checkResult,t.resultImgUrlList.split(",").forEach((function(t){e.checkresultimg.push(t)})),this.resultvisible=!0},addfreitem:function(t){this.selectCheck(t)},getfreqList:function(){var t=this,e={};e.staffId=this.$store.getters.id,e.selectType=1,Object(b["c"])(e).then((function(e){t.freqlist=e.data.checkList}))},addModel:function(t){var e=this;this.$confirm("是否确定将 模板:"+t.name+" 中的内容导入该患者的检查中","导入模板",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.nondruglist.forEach((function(t){t.status=-1;var i=1;e.record.forEach((function(e){e.id===t.id&&(i=0)})),i&&e.record.push(t)}))}))},selectModel:function(t){this.onemodel=t},getmodel:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.scope=0,e.ownId=this.$store.getters.id,e.type=0,e.pageSize=1e4,e.pageNum=1,e.isAdmin=0,t.next=9,Object(M["c"])(e).then((function(t){i.checkmodels=t.data.list,i.checkmodels.forEach((function(t){t.nondruglist=[],t.totalprice=0,i.checkList.filter((function(e){t.nonDrugIdList.includes(e.id)&&(t.nondruglist.push(e),t.totalprice+=e.price)}))}))}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),refresh:function(){var t=this;this.$confirm("未开立的项目都将清除,确认刷新?","刷新",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.listRecord()}))},invalid:function(){var t=this,e="";this.ref.forEach((function(t){e+=t.id+","})),e=e.substr(0,e.length-1),z(e).then((function(e){t.$notify({title:"成功",message:e.message,type:"success",duration:2e3}),t.refresh()})),console.log(e)},listRecord:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:T(this.patient.registrationId,0).then((function(t){e.record=t.data,console.log(e.record),e.record.forEach((function(t){e.checkList.filter((function(e){e.id===t.noDrugId&&(t.code=e.code,t.name=e.name,t.format=e.format,t.price=e.price)})),t.deptName=t.excuteDeptName}))}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSelectionChange:function(t){var e=this;this.ref=t,this.totalprice=0,this.ref.forEach((function(t){e.totalprice+=t.price})),this.totalprice=this.totalprice.toFixed(2)},apply:function(){var t=this,e={};e.dmsNonDrugItemRecordParamList=this.ref,e.createStaffId=this.$store.getters.id,e.registrationId=this.patient.registrationId,e.dmsNonDrugItemRecordParamList.forEach((function(t){t.amount=t.price,t.excuteDeptId=t.deptId,t.noDrugId=t.id})),e.type=0,R(e).then((function(e){t.$notify({title:"成功",message:e.message,type:"success",duration:2e3}),t.listRecord()}))},submitDemand:function(){var t=this;console.log(666),this.record.forEach((function(e){e.id===t.check.id&&(e.aim=t.check.aim,e.demand=t.check.demand,e.clinicalImpression=t.check.clinicalImpression,e.clinicalDiagnosis=t.check.clinicalDiagnosis,e.checkParts=t.check.checkParts)})),this.demandVisible=!1},demand:function(t){this.demandVisible=!0,this.check=Object(g["c"])(t)},getNondrugList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object($["d"])(this.listQuery);case 2:e=t.sent,console.log(e),this.checkList=e.data.list,this.total=e.data.total;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectCheckred:function(t){console.log(t);var e=1;t.status=-1,this.record.forEach((function(i){i.id===t.id&&(e=0)})),e&&this.record.push(t),this.dialogTableVisible=!1},selectCheck:function(t){var e=this;this.$confirm("是否添加 "+t.name+" 到该患者?","添加检查",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){var i=1;t.status=-1,e.record.forEach((function(e){e.id===t.id&&(i=0)})),i?e.record.push(t):alert("已存在该检查项目！"),e.dialogTableVisible=!1}))},addcheck:function(){this.dialogTableVisible=!0},delcheck:function(){var t=this;this.record=this.record.filter((function(e){return-1!==e.status||!t.ref.includes(e)}))},controlfast:function(){this.isclose=!this.isclose,"65%"===this.mainwidth?this.mainwidth="80%":this.mainwidth="65%"}}},V=B,q=Object(N["a"])(V,O,j,!1,null,null,null),H=q.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-aside",{staticStyle:{background:"white",padding:"0 10px 0 0"},attrs:{width:t.mainwidth}},[i("aside",{staticStyle:{margin:"0 0 0 0"}},[i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.addcheck}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("新增项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.delcheck}},[i("i",{staticClass:"el-icon-remove-outline"}),t._v("删除项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.apply}},[i("i",{staticClass:"el-icon-circle-check"}),t._v("开立项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.invalid}},[i("i",{staticClass:"el-icon-circle-close"}),t._v("作废项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.saveNonDrug}},[i("i",{staticClass:"el-icon-upload2"}),t._v("暂存")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.getNonDrug}},[i("i",{staticClass:"el-icon-download"}),t._v("取出暂存项")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.refresh}},[i("i",{staticClass:"el-icon-refresh"}),t._v("刷新")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:t.controlfast}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isclose,expression:"!isclose"}],staticClass:"el-icon-caret-right"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticClass:"el-icon-caret-left"})])],1),t._v(" "),i("el-tag",{attrs:{type:"primary"}},[t._v("项目金额总计:")]),t._v(" "),i("el-tag",{attrs:{type:"warning"}},[t._v(t._s(t.totalprice)+" 元")]),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.record,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{align:"center",type:"selection",width:"55"},on:{"selection-change":t.handleSelectionChange}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"项目编码",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.code))]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"name",label:"项目名称",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"deptName",label:"执行科室",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"format",label:"单位","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"price",label:"单价","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"状态","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.status?i("el-tag",{attrs:{type:"warning"}},[t._v("未开立")]):t._e(),t._v(" "),0===e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v("已作废")]):t._e(),t._v(" "),1===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("未缴费")]):t._e(),t._v(" "),2===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("未登记")]):t._e(),t._v(" "),3===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("已登记")]):t._e(),t._v(" "),4===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已执行")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.demand(e.row)}}},[t._v("检验要求")]):t._e(),t._v(" "),0!==e.row.status?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.showresult(e.row)}}},[t._v("查看结果")]):t._e()]}}])})],1)],1),t._v(" "),i("transition",{attrs:{name:"el-zoom-in-left"}},[i("el-main",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticStyle:{"border-style":"dotted","border-width":"0px 0px 0px 1px","border-color":"#C0C0C0","margin-top":"-12px"},attrs:{width:"50%"}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"检验模板",name:"first"}},[i("el-table",{attrs:{"highlight-current-row":"",stripe:"",data:t.checkmodels,height:"230"},on:{"row-dblclick":t.addModel,"row-click":t.selectModel}},[i("el-table-column",{attrs:{label:"模板名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.name)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"模板简介"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.aim)+"\n          ")]}}])})],1),t._v(" "),i("el-card",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.onemodel.name,expression:"onemodel.name!==undefined"}],staticClass:"box-card",attrs:{shadow:"never","body-style":"font-size: 14px;font-family:'微软雅黑';width:350px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("模板详情")])]),t._v(" "),i("p",[i("b",[t._v("模板名:")]),t._v(" "+t._s(t.onemodel.name))]),t._v(" "),i("p",[i("b",[t._v("模板内容:")])]),t._v(" "),t._l(t.onemodel.nondruglist,(function(e,a){return i("p",{key:a},[i("b"),t._v(" "+t._s(e.name))])})),t._v(" "),i("p",[i("b",[t._v("总金额：")]),t._v(t._s(t.onemodel.totalprice)+" 元")])],2)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"常用检验项",name:"second"}},[i("el-table",{attrs:{data:t.freqlist,"highlight-current-row":""},on:{"row-click":t.addfreitem}},[i("el-table-column",{attrs:{label:"项目名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"项目单价",prop:"price"}}),t._v(" "),i("el-table-column",{attrs:{label:"编码",prop:"code"}})],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"检验目录",visible:t.dialogTableVisible,top:"50px"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("div",{staticStyle:{height:"450px"}},[i("span",[t._v("搜索检验")]),t._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索检验"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),i("el-table",{staticStyle:{"margin-top":"20px"},attrs:{height:"400px","highlight-current-row":"",data:t.checkList.filter((function(e){return!t.search||e.name.toLowerCase().includes(t.search.toLowerCase())||e.code.toLowerCase().includes(t.search.toLowerCase())}))},on:{"row-click":t.selectCheck}},[i("el-table-column",{attrs:{property:"name",label:"项目名",width:"320px"}}),t._v(" "),i("el-table-column",{attrs:{property:"code",label:"项目编码"}}),t._v(" "),i("el-table-column",{attrs:{property:"price",label:"价格"}})],1)],1)]),t._v(" "),i("el-dialog",{attrs:{title:"填写检验要求",visible:t.demandVisible},on:{"update:visible":function(e){t.demandVisible=e}}},[i("div",{staticStyle:{height:"260px"}},[i("el-form",{attrs:{inline:"","label-width":"100px"}},[i("el-form-item",{attrs:{label:"项目编码"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.code,callback:function(e){t.$set(t.check,"code",e)},expression:"check.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"项目名称"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.name,callback:function(e){t.$set(t.check,"name",e)},expression:"check.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"执行科室"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.deptName,callback:function(e){t.$set(t.check,"deptName",e)},expression:"check.deptName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"目的"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.aim,callback:function(e){t.$set(t.check,"aim",e)},expression:"check.aim"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"要求"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.demand,callback:function(e){t.$set(t.check,"demand",e)},expression:"check.demand"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"临床印象"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.clinicalImpression,callback:function(e){t.$set(t.check,"clinicalImpression",e)},expression:"check.clinicalImpression"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"临床诊断"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.clinicalDiagnosis,callback:function(e){t.$set(t.check,"clinicalDiagnosis",e)},expression:"check.clinicalDiagnosis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"检验部位"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.checkParts,callback:function(e){t.$set(t.check,"checkParts",e)},expression:"check.checkParts"}})],1)],1),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"danger"},on:{click:function(e){t.demandVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.submitDemand}},[t._v("确认")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"检查结果",visible:t.resultvisible,top:"10px"},on:{"update:visible":function(e){t.resultvisible=e}}},[i("div",{staticClass:"block",staticStyle:{height:"100%",width:"100%"}},[i("span",[t._v("检查结果："+t._s(t.checkresult))]),t._v(" "),i("el-carousel",{staticStyle:{"margin-top":"30px"},attrs:{trigger:"click",height:"500px"}},t._l(t.checkresultimg,(function(t){return i("el-carousel-item",{key:t},[i("img",{staticStyle:{height:"100%"},attrs:{src:t}})])})),1)],1)])],1)},Q=[],U={props:["patient"],name:"Inspection",data:function(){return{checkresult:"",checkresultimg:[],resultvisible:!1,freqlist:[],onemodel:{},totalprice:0,ref:[],checkmodels:[],check:{},demandVisible:!1,dialogTableVisible:!1,activeName:"first",isclose:!0,checkList:[],mainwidth:"65%",activeNames:["1"],total:0,search:"",listQuery:{code:null,name:null,format:null,price:null,expClassId:null,deptId:null,mnemonicCode:null,recordType:2,createDate:null,status:1,pageSize:1e3,pageNum:1},record:[]}},watch:{patient:function(t,e){this.patient=t,this.listRecord()}},created:function(){var t=this;E["Promise"].all([this.getNondrugList().then((function(){t.getmodel()}))]),this.getfreqList()},methods:{showresult:function(t){var e=this;this.checkresult=t.checkResult,t.resultImgUrlList.split(",").forEach((function(t){e.checkresultimg.push(t)})),this.resultvisible=!0},saveNonDrug:function(){var t=this,e={};e.dmsNonDrugItemRecordParamList=this.ref,e.registrationId=this.patient.registrationId,e.type=1,w(e).then((function(e){t.$notify({title:"成功",message:"已暂存选中的检验项",type:"success",duration:2e3})}))},getNonDrug:function(){var t=this,e={};e.registrationId=this.patient.registrationId,e.type=1,k(e).then((function(e){e.data.dmsNonDrugItemRecordParamList.forEach((function(e){t.selectCheckred(e)})),t.$notify({title:"成功",message:"已取出暂存的检验项",type:"success",duration:2e3})}))},addfreitem:function(t){this.selectCheck(t)},getfreqList:function(){var t=this,e={};e.staffId=this.$store.getters.id,e.selectType=4,Object(b["c"])(e).then((function(e){t.freqlist=e.data.testList}))},addModel:function(t){var e=this;this.$confirm("是否确定将 模板:"+t.name+" 中的内容导入该患者的检验中","导入模板",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.nondruglist.forEach((function(t){t.status=-1;var i=1;e.record.forEach((function(e){e.id===t.id&&(i=0)})),i&&e.record.push(t)}))}))},selectModel:function(t){this.onemodel=t},getmodel:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.scope=0,e.ownId=this.$store.getters.id,e.type=1,e.pageSize=1e4,e.pageNum=1,e.isAdmin=0,t.next=9,Object(M["c"])(e).then((function(t){i.checkmodels=t.data.list,i.checkmodels.forEach((function(t){t.nondruglist=[],t.totalprice=0,i.checkList.filter((function(e){t.nonDrugIdList.includes(e.id)&&(t.nondruglist.push(e),t.totalprice+=e.price)}))}))}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),refresh:function(){var t=this;this.$confirm("未开立的项目都将清除,确认刷新?","刷新",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.listRecord()}))},invalid:function(){var t=this,e="";this.ref.forEach((function(t){e+=t.id+","})),e=e.substr(0,e.length-1),z(e).then((function(e){t.$notify({title:"成功",message:e.message,type:"success",duration:2e3})}))},listRecord:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:T(this.patient.registrationId,1).then((function(t){e.record=t.data,e.record.forEach((function(t){e.checkList.filter((function(e){e.id===t.noDrugId&&(t.code=e.code,t.name=e.name,t.format=e.format,t.price=e.price)})),t.deptName=t.excuteDeptName}))}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSelectionChange:function(t){var e=this;this.ref=t,this.totalprice=0,this.ref.forEach((function(t){e.totalprice+=t.price})),this.totalprice=this.totalprice.toFixed(2)},apply:function(){var t=this,e={};e.dmsNonDrugItemRecordParamList=this.ref,e.createStaffId=this.$store.getters.id,e.registrationId=this.patient.registrationId,e.dmsNonDrugItemRecordParamList.forEach((function(t){t.amount=t.price,t.excuteDeptId=t.deptId,t.noDrugId=t.id})),e.type=1,R(e).then((function(e){t.$notify({title:"成功",message:e.message,type:"success",duration:2e3}),t.listRecord()}))},submitDemand:function(){var t=this;this.record.forEach((function(e){e.id===t.check.id&&(e.aim=t.check.aim,e.demand=t.check.demand,e.clinicalImpression=t.check.clinicalImpression,e.clinicalDiagnosis=t.check.clinicalDiagnosis,e.checkParts=t.check.checkParts)})),this.demandVisible=!1},demand:function(t){this.demandVisible=!0,this.check=Object(g["c"])(t)},getNondrugList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object($["d"])(this.listQuery);case 2:e=t.sent,this.checkList=e.data.list,this.total=e.data.total;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectCheckred:function(t){var e=1;t.status=-1,this.record.forEach((function(i){i.id===t.id&&(e=0)})),e&&this.record.push(t),this.dialogTableVisible=!1},selectCheck:function(t){var e=this;t.status=0,this.$confirm("是否添加 "+t.name+" 到该患者?","添加检验",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){var i=1;t.status=-1,e.record.forEach((function(e){e.id===t.id&&(i=0)})),i?e.record.push(t):alert("已存在该检验项目！"),e.dialogTableVisible=!1}))},addcheck:function(){this.dialogTableVisible=!0},delcheck:function(){var t=this;this.record=this.record.filter((function(e){return 0!==e.status||!t.ref.includes(e)}))},controlfast:function(){this.isclose=!this.isclose,"65%"===this.mainwidth?this.mainwidth="80%":this.mainwidth="65%"}}},W=U,F=Object(N["a"])(W,A,Q,!1,null,null,null),G=F.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",[i("el-aside",{staticStyle:{background:"white",padding:"0 10px 0 0"},attrs:{width:t.mainwidth}},[i("aside",{staticStyle:{margin:"0 0 0 0"}},[i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.addpre}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("新增处方")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.deletepre}},[i("i",{staticClass:"el-icon-remove-outline"}),t._v("删除处方")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.apply}},[i("i",{staticClass:"el-icon-circle-check"}),t._v("开立处方")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.invalid}},[i("i",{staticClass:"el-icon-circle-close"}),t._v("作废处方")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.saveDrugPrescription}},[i("i",{staticClass:"el-icon-upload2"}),t._v("暂存")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.getDrugPrescription}},[i("i",{staticClass:"el-icon-download"}),t._v("取出暂存项")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.refresh}},[i("i",{staticClass:"el-icon-refresh"}),t._v("刷新")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:t.controlfast}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isclose,expression:"!isclose"}],staticClass:"el-icon-caret-right"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticClass:"el-icon-caret-left"})])],1),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.prescriptionList,"tooltip-effect":"dark","cell-style":"text-align:center","header-cell-style":"text-align:center"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"处方名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"amount",label:"总金额(元)"}}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("未开立")]):t._e(),t._v(" "),0===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已作废")]):t._e(),t._v(" "),1===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("未缴费")]):t._e(),t._v(" "),2===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("未发药")]):t._e(),t._v(" "),3===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已发药")]):t._e(),t._v(" "),4===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已过期")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.status?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.showDetail(e.row)}}},[t._v("编辑")]):t._e()]}}])})],1)],1),t._v(" "),i("transition",{attrs:{name:"el-zoom-in-left"}},[i("el-main",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticStyle:{"border-style":"dotted","border-width":"0px 0px 0px 1px","border-color":"#C0C0C0","margin-top":"-12px"},attrs:{width:"50%"}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"成药模板",name:"first"}},[i("el-table",{attrs:{data:t.models,height:"230"},on:{"row-click":t.selectmodel,"row-dblclick":t.addmodel}},[i("el-table-column",{attrs:{label:"模板名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.name)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"目的"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.aim)+"\n          ")]}}])})],1),t._v(" "),i("el-card",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.model.name,expression:"model.name!==undefined"}],staticClass:"box-card",attrs:{shadow:"never","body-style":"font-size: 14px;font-family:'微软雅黑';width:350px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.model.name))])]),t._v(" "),i("p",[i("b",[t._v("模板目的：")]),t._v(t._s(t.model.aim))]),t._v(" "),i("p",[i("b",[t._v("模板总金额: ")]),t._v(t._s(t.model.amount))]),t._v(" "),i("p",[i("b",[t._v("模板项目：")])]),t._v(" "),t._l(t.model.druglist,(function(e,a){return i("p",{key:a},[i("b"),t._v(" "+t._s(e.name))])}))],2)],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"处方详细",visible:t.dialogTableVisible,width:"1500px",top:"20px"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("el-container",[i("el-aside",{staticStyle:{padding:"0 0 0 0",margin:"0 0 0 0"},attrs:{width:"30%"}},[i("div",[i("el-tag",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[t._v("常用药品")]),t._v(" "),i("el-table",{attrs:{data:t.freqlist,height:"200px"},on:{"row-click":t.choosedrug}},[i("el-table-column",{attrs:{label:"药品名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"价格(元)",prop:"price",width:"100px"}})],1)],1),t._v(" "),i("el-tag",{staticStyle:{width:"100%",height:"30px"},attrs:{type:"primary"}},[t._v("药品目录\n        \n        "),i("el-button",{staticStyle:{width:"20px",float:"right"},attrs:{type:"primary",size:"mini"}},[i("svg-icon",{staticStyle:{"margin-left":"-6px"},attrs:{"icon-class":"search"}})],1),t._v(" "),i("el-input",{staticStyle:{width:"60%",float:"right"},attrs:{size:"mini",placeholder:"药品名称"},on:{change:t.getdrugList},model:{value:t.searchdrug,callback:function(e){t.searchdrug=e},expression:"searchdrug"}})],1),t._v(" "),i("el-table",{attrs:{data:t.drugList,height:"300px"},on:{"row-click":t.choosedrug}},[i("el-table-column",{attrs:{label:"药品名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"价格(元)",prop:"price",width:"100px"}})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticStyle:{"margin-top":"0px"},attrs:{layout:"prev, pager, next","auto-scroll":"false","page-sizes":"[]",total:t.total,page:t.page.pageNum,limit:t.page.pageSize},on:{"update:page":function(e){return t.$set(t.page,"pageNum",e)},"update:limit":function(e){return t.$set(t.page,"pageSize",e)},pagination:t.getdrugList}}),t._v(" "),i("div")],1),t._v(" "),i("el-main",[i("el-tag",{attrs:{type:"primary"}},[t._v("项目金额总计:")]),t._v(" "),i("el-tag",{attrs:{type:"warning"}},[t._v(t._s(t.oneprescription.amount)+"元")]),t._v(" "),t.edit?t._e():i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.createpre}},[t._v("增加处方")]),t._v(" "),t.edit?i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.changepre}},[t._v("修改处方")]):t._e(),t._v(" "),i("el-input",{staticStyle:{width:"200px","margin-right":"20px",float:"right"},attrs:{placeholder:"处方名"},model:{value:t.oneprescription.name,callback:function(e){t.$set(t.oneprescription,"name",e)},expression:"oneprescription.name"}}),t._v(" "),i("el-table",{attrs:{height:"500px",data:t.oneprescription.druglist,"cell-style":"text-align:center","header-cell-style":"text-align:center"}},[i("el-table-column",{attrs:{width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.deldrug(e.row)}}},[t._v("删除")])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"name",label:"药品名",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{property:"format",label:"规格",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{property:"price",label:"单价"}}),t._v(" "),i("el-table-column",{attrs:{label:"数量",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",min:1,max:100,size:"mini"},on:{change:function(i){return t.changenum(e.row)}},model:{value:e.row.num,callback:function(i){t.$set(e.row,"num",i)},expression:"scope.row.num"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"剂型",width:"130px",prop:"dosage.name"}}),t._v(" "),i("el-table-column",{attrs:{label:"使用方法",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{placeholder:"用法"},model:{value:e.row.medicalAdvice,callback:function(i){t.$set(e.row,"medicalAdvice",i)},expression:"scope.row.medicalAdvice"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"频次",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:e.row.frequency,callback:function(i){t.$set(e.row,"frequency",i)},expression:"scope.row.frequency"}},t._l([{key:1,label:"一天一次"},{key:2,label:"一天三次"}],(function(t){return i("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})})),1)]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"天数",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{placeholder:""},model:{value:e.row.days,callback:function(i){t.$set(e.row,"days",i)},expression:"scope.row.days"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"用量",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{placeholder:""},model:{value:e.row.usageNum,callback:function(i){t.$set(e.row,"usageNum",i)},expression:"scope.row.usageNum"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"单位",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:e.row.usageNumUnit,callback:function(i){t.$set(e.row,"usageNumUnit",i)},expression:"scope.row.usageNumUnit"}},t._l([{key:1,label:"片"},{key:2,label:"支"},{key:3,label:"瓶"},{key:2,label:"克"}],(function(t){return i("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})})),1)]}}])})],1)],1)],1)],1)],1)},K=[],X=i("1e0f"),Y=i("bf23"),Z=i("efa4"),tt={name:"",druglist:[],amount:0,status:-1},et={props:["patient"],components:{Pagination:v["a"]},name:"Prescription",data:function(){return{modelvisivle:!1,model:{},models:[],freqlist:[],refs:[],prescriptionList:[],oneprescription:{name:"",druglist:[],amount:0,status:-1},edit:!1,test:"",num:0,dialogTableVisible:!1,activeName:"first",isclose:!0,record:{main:"test"},page:{pageNum:1,pageSize:10},searchdrug:"",drugList:[],total:0,mainwidth:"65%",activeNames:["1"],data2:[{date:"0001",name:"王小虎1",address:"38"},{date:"0002",name:"王小虎2",address:"39"}]}},watch:{patient:function(t,e){this.patient=t,this.listByReg()}},created:function(){this.listModel()},methods:{addmodel:function(t){t.amount=Math.floor(100*(t.amount+.5))/100,t.status=-1,this.prescriptionList.push(t)},selectmodel:function(t){console.log(t),this.model=Object(g["c"])(t),this.model.amount=Math.floor(100*(this.model.amount+.5))/100,this.modelvisivle=!0},listModel:function(){var t=this,e={scope:0};e.ownId=this.$store.getters.id,e.type=1,e.pageSize=1e3,e.pageNum=1,e.isAdmin=0,Object(Z["c"])(e).then((function(e){t.models=e.data.list,t.models.forEach((function(t){t.druglist=[],t.amount=0,t.dmsMedicineModelItemList.forEach((function(e){var i={};Object(X["f"])(e.id).then((function(a){i=a.data,i.days=e.days,i.frequency=e.frequency,i.medicalAdvice=e.medicalAdvice,i.medicineUsage=e.medicineUsage,i.usageMeans=e.usageMeans,i.num=e.num,i.usageNum=e.usageNum,i.usageNumUnit=e.usageNumUnit,t.amount+=i.price*e.num,t.druglist.push(Object(g["c"])(i))}))})),t.amount=Math.floor(100*(t.amount+.5))/100}))}))},saveDrugPrescription:function(){var t=this;x(this.refs,this.patient.registrationId,4).then((function(e){t.$notify({title:"成功",message:"已暂存选中的成药处方",type:"success",duration:2e3})}))},getDrugPrescription:function(){var t=this,e={};e.registrationId=this.$store.getters.id,e.type=4,S(e).then((function(e){t.prescriptionList.push(e.data)}))},addfreitem:function(t){this.selectCheck(t)},getfreqList:function(){var t=this,e={};e.staffId=this.$store.getters.id,e.selectType=6,Object(b["c"])(e).then((function(e){t.freqlist=e.data.drugList.filter((function(t){if(101===t.typeId)return!0}))}))},refresh:function(){var t=this;this.$confirm("未开立的处方都将清除,确认刷新?","刷新",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.listByReg()}))},deletepre:function(){var t=this.refs[0].name;this.prescriptionList=this.prescriptionList.filter((function(e){return e.name!==t}))},invalid:function(){var t=this,e=this.refs[0].id;Object(Y["b"])(e).then((function(e){t.$notify({title:"成功",message:e.message,type:"success",duration:2e3}),t.listByReg()}))},listByReg:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(Y["d"])(this.patient.registrationId).then((function(t){e.prescriptionList=t.data}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSelectionChange:function(t){this.refs=t},apply:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.refs[0],e.createStaffId=this.$store.getters.id,e.registrationId=this.patient.registrationId,e.dmsMedicineItemRecordList=e.druglist,e.dmsMedicineItemRecordList.forEach((function(t){t.drugId=t.id})),Object(Y["a"])(e).then((function(t){i.$notify({title:"成功",message:t.message,type:"success",duration:2e3}),i.listByReg()}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createpre:function(){this.edit=!1,this.prescriptionList.push(this.oneprescription),this.dialogTableVisible=!1},changepre:function(){this.dialogTableVisible=!1},changenum:function(t){var e=this;this.oneprescription.amount=0,this.oneprescription.druglist.forEach((function(t){e.oneprescription.amount+=t.price*t.num})),this.oneprescription.amount=Math.floor(100*(this.oneprescription.amount+.5))/100},deldrug:function(t){this.oneprescription.druglist=this.oneprescription.druglist.filter((function(e){return e.id!==t.id}))},choosedrug:function(t){var e=1;this.oneprescription.druglist.forEach((function(i){i.id===t.id&&(i.num+=1,e=0)})),e&&(this.oneprescription.amount+=t.price,this.oneprescription.amount=Math.floor(100*(this.oneprescription.amount+.5))/100,this.oneprescription.druglist.push(t),this.oneprescription.druglist.forEach((function(t){void 0===t.num&&(t.num=1)})))},getdrugList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.pageSize=this.page.pageSize,e.pageNum=this.page.pageNum,e.status=1,e.typeId=101,e.name=this.searchdrug,t.next=8,Object(X["e"])(e);case 8:i=t.sent,this.drugList=i.data.list,this.total=i.data.total;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addpre:function(){this.getfreqList(),this.edit=!1,this.oneprescription=Object(g["c"])(tt),this.getdrugList(),this.dialogTableVisible=!0},showDetail:function(t){this.edit=!0,this.oneprescription=t,this.dialogTableVisible=!0},controlfast:function(){this.isclose=!this.isclose,"65%"===this.mainwidth?this.mainwidth="80%":this.mainwidth="65%"}}},it=et,at=Object(N["a"])(it,J,K,!1,null,null,null),st=at.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-aside",{staticStyle:{background:"white",padding:"0 10px 0 0"},attrs:{width:t.mainwidth}},[i("aside",{staticStyle:{margin:"0 0 0 0"}},[i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.addcheck}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("新增项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.delcheck}},[i("i",{staticClass:"el-icon-remove-outline"}),t._v("删除项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.apply}},[i("i",{staticClass:"el-icon-circle-check"}),t._v("开立项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.invalid}},[i("i",{staticClass:"el-icon-circle-close"}),t._v("作废项目")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.saveNonDrug}},[i("i",{staticClass:"el-icon-upload2"}),t._v("暂存")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.getNonDrug}},[i("i",{staticClass:"el-icon-download"}),t._v("取出暂存项")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.refresh}},[i("i",{staticClass:"el-icon-refresh"}),t._v("刷新")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:t.controlfast}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isclose,expression:"!isclose"}],staticClass:"el-icon-caret-right"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticClass:"el-icon-caret-left"})])],1),t._v(" "),i("el-tag",{attrs:{type:"primary"}},[t._v("项目金额总计:")]),t._v(" "),i("el-tag",{attrs:{type:"warning"}},[t._v(t._s(t.totalprice)+" 元")]),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.record,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{align:"center",type:"selection",width:"55"},on:{"selection-change":t.handleSelectionChange}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"项目编码",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.code))]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"name",label:"项目名称",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"deptName",label:"执行科室",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"format",label:"单位","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"price",label:"单价","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"状态","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.status?i("el-tag",{attrs:{type:"warning"}},[t._v("未开立")]):t._e(),t._v(" "),0===e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v("已作废")]):t._e(),t._v(" "),1===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("未缴费")]):t._e(),t._v(" "),2===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("未登记")]):t._e(),t._v(" "),3===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("已登记")]):t._e(),t._v(" "),4===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已执行")]):t._e()]}}])})],1)],1),t._v(" "),i("transition",{attrs:{name:"el-zoom-in-left"}},[i("el-main",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticStyle:{"border-style":"dotted","border-width":"0px 0px 0px 1px","border-color":"#C0C0C0","margin-top":"-12px"},attrs:{width:"50%"}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"常用模板",name:"first"}},[i("el-table",{attrs:{"highlight-current-row":"",stripe:"",data:t.checkmodels,height:"230"},on:{"row-dblclick":t.addModel,"row-click":t.selectModel}},[i("el-table-column",{attrs:{label:"模板名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.name)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"模板简介"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.aim)+"\n          ")]}}])})],1),t._v(" "),i("el-card",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.onemodel.name,expression:"onemodel.name!==undefined"}],staticClass:"box-card",attrs:{shadow:"never","body-style":"font-size: 14px;font-family:'微软雅黑';width:350px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("模板详情")])]),t._v(" "),i("p",[i("b",[t._v("模板名:")]),t._v(" "+t._s(t.onemodel.name))]),t._v(" "),i("p",[i("b",[t._v("模板内容:")])]),t._v(" "),t._l(t.onemodel.nondruglist,(function(e,a){return i("p",{key:a},[i("b"),t._v(" "+t._s(e.name))])})),t._v(" "),i("p",[i("b",[t._v("总金额：")]),t._v(t._s(t.onemodel.totalprice)+" 元")])],2)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"常用处置项",name:"second"}},[i("el-table",{attrs:{data:t.freqlist,"highlight-current-row":""},on:{"row-click":t.addfreitem}},[i("el-table-column",{attrs:{label:"项目名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"项目单价",prop:"price"}}),t._v(" "),i("el-table-column",{attrs:{label:"编码",prop:"code"}})],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"检查目录",visible:t.dialogTableVisible,top:"50px"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("div",{staticStyle:{height:"450px"}},[i("span",[t._v("搜索检查")]),t._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索检查"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),i("el-table",{staticStyle:{"margin-top":"20px"},attrs:{height:"400px","highlight-current-row":"",data:t.checkList.filter((function(e){return!t.search||e.name.toLowerCase().includes(t.search.toLowerCase())||e.code.toLowerCase().includes(t.search.toLowerCase())}))},on:{"row-click":t.selectCheck}},[i("el-table-column",{attrs:{property:"name",label:"项目名"}}),t._v(" "),i("el-table-column",{attrs:{property:"code",label:"项目编码"}}),t._v(" "),i("el-table-column",{attrs:{property:"price",label:"价格"}})],1)],1)]),t._v(" "),i("el-dialog",{attrs:{title:"填写检查要求",visible:t.demandVisible},on:{"update:visible":function(e){t.demandVisible=e}}},[i("div",{staticStyle:{height:"260px"}},[i("el-form",{attrs:{inline:"","label-width":"100px"}},[i("el-form-item",{attrs:{label:"项目编码"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.code,callback:function(e){t.$set(t.check,"code",e)},expression:"check.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"项目名称"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.name,callback:function(e){t.$set(t.check,"name",e)},expression:"check.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"执行科室"}},[i("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.check.deptName,callback:function(e){t.$set(t.check,"deptName",e)},expression:"check.deptName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"目的"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.aim,callback:function(e){t.$set(t.check,"aim",e)},expression:"check.aim"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"要求"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.demand,callback:function(e){t.$set(t.check,"demand",e)},expression:"check.demand"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"临床印象"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.clinicalImpression,callback:function(e){t.$set(t.check,"clinicalImpression",e)},expression:"check.clinicalImpression"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"临床诊断"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.clinicalDiagnosis,callback:function(e){t.$set(t.check,"clinicalDiagnosis",e)},expression:"check.clinicalDiagnosis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"检查部位"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.check.checkParts,callback:function(e){t.$set(t.check,"checkParts",e)},expression:"check.checkParts"}})],1)],1),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"danger"},on:{click:function(e){t.demandVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.submitDemand}},[t._v("确认")])],1)])],1)},rt=[],lt={props:["patient"],name:"Inspection",data:function(){return{freqlist:[],onemodel:{},totalprice:0,ref:[],checkmodels:[],check:{},demandVisible:!1,dialogTableVisible:!1,activeName:"first",isclose:!0,checkList:[],mainwidth:"65%",activeNames:["1"],total:0,search:"",listQuery:{code:null,name:null,format:null,price:null,expClassId:null,deptId:null,mnemonicCode:null,recordType:3,createDate:null,status:1,pageSize:1e3,pageNum:1},record:[]}},watch:{patient:function(t,e){this.patient=t,this.listRecord()}},created:function(){var t=this;E["Promise"].all([this.getNondrugList().then((function(){t.getmodel()}))]),this.getfreqList()},methods:{saveNonDrug:function(){var t=this,e={};e.dmsNonDrugItemRecordParamList=this.ref,e.registrationId=this.patient.registrationId,e.type=2,w(e).then((function(e){t.$notify({title:"成功",message:"已暂存选中的处置项",type:"success",duration:2e3})}))},getNonDrug:function(){var t=this,e={};e.registrationId=this.patient.registrationId,e.type=2,k(e).then((function(e){e.data.dmsNonDrugItemRecordParamList.forEach((function(e){t.selectCheckred(e)})),t.$notify({title:"成功",message:"已取出暂存的处置项",type:"success",duration:2e3})}))},addfreitem:function(t){this.selectCheck(t)},getfreqList:function(){var t=this,e={};e.staffId=this.$store.getters.id,e.selectType=3,Object(b["c"])(e).then((function(e){t.freqlist=e.data.dispositionList}))},addModel:function(t){var e=this;this.$confirm("是否确定将 模板:"+t.name+" 中的内容导入该患者的检查中","导入模板",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.nondruglist.forEach((function(t){t.status=-1;var i=1;e.record.forEach((function(e){e.id===t.id&&(i=0)})),i&&e.record.push(t)}))}))},selectModel:function(t){this.onemodel=t,console.log(this.onemodel)},getmodel:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.scope=0,e.ownId=this.$store.getters.id,e.type=2,e.pageSize=1e4,e.pageNum=1,e.isAdmin=0,t.next=9,Object(M["c"])(e).then((function(t){i.checkmodels=t.data.list,i.checkmodels.forEach((function(t){t.nondruglist=[],t.totalprice=0,i.checkList.filter((function(e){t.nonDrugIdList.includes(e.id)&&(t.nondruglist.push(e),t.totalprice+=e.price)}))}))}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),refresh:function(){var t=this;this.$confirm("未开立的项目都将清除,确认刷新?","刷新",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.listRecord()}))},invalid:function(){var t=this,e="";this.ref.forEach((function(t){e+=t.id+","})),e=e.substr(0,e.length-1),z(e).then((function(e){t.$notify({title:"成功",message:e.message,type:"success",duration:2e3})}))},listRecord:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:T(this.patient.registrationId,2).then((function(t){e.record=t.data,console.log(e.record),e.record.forEach((function(t){e.checkList.filter((function(e){e.id===t.noDrugId&&(t.code=e.code,t.name=e.name,t.format=e.format,t.price=e.price)})),t.deptName=t.excuteDeptName}))}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSelectionChange:function(t){var e=this;this.ref=t,this.totalprice=0,this.ref.forEach((function(t){e.totalprice+=t.price})),this.totalprice=this.totalprice.toFixed(2)},apply:function(){var t=this,e={};e.dmsNonDrugItemRecordParamList=this.ref,e.createStaffId=this.$store.getters.id,e.registrationId=this.patient.registrationId,e.dmsNonDrugItemRecordParamList.forEach((function(t){t.amount=t.price,t.excuteDeptId=t.deptId,t.noDrugId=t.id})),e.type=2,R(e).then((function(e){t.$notify({title:"成功",message:e.message,type:"success",duration:2e3}),t.listRecord()}))},submitDemand:function(){var t=this;this.record.forEach((function(e){e.id===t.check.id&&(e.aim=t.check.aim,e.demand=t.check.demand,e.clinicalImpression=t.check.clinicalImpression,e.clinicalDiagnosis=t.check.clinicalDiagnosis,e.checkParts=t.check.checkParts)})),this.demandVisible=!1},demand:function(t){this.demandVisible=!0,this.check=Object(g["c"])(t)},getNondrugList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object($["d"])(this.listQuery);case 2:e=t.sent,console.log(e),this.checkList=e.data.list,this.total=e.data.total;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectCheckred:function(t){var e=1;t.status=-1,this.record.forEach((function(i){i.id===t.id&&(e=0)})),e&&this.record.push(t),this.dialogTableVisible=!1},selectCheck:function(t){var e=this;t.status=0,this.$confirm("是否添加 "+t.name+" 到该患者?","添加检查",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){var i=1;t.status=-1,e.record.forEach((function(e){e.id===t.id&&(i=0)})),i?e.record.push(t):alert("已存在该检查项目！"),e.dialogTableVisible=!1}))},addcheck:function(){this.dialogTableVisible=!0},delcheck:function(){var t=this;this.record=this.record.filter((function(e){return 0!==e.status||!t.ref.includes(e)}))},controlfast:function(){this.isclose=!this.isclose,"65%"===this.mainwidth?this.mainwidth="80%":this.mainwidth="65%"}}},ot=lt,ct=Object(N["a"])(ot,nt,rt,!1,null,null,null),dt=ct.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",[i("el-aside",{staticStyle:{background:"white"},attrs:{width:t.mainwidth}},[i("el-tag",{staticStyle:{"margin-bottom":"20px","margin-left":"-20px"},attrs:{type:"info"}},[t._v("初诊内容:")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:t.controlfast}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isclose,expression:"!isclose"}],staticClass:"el-icon-caret-right"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticClass:"el-icon-caret-left"}),t._v("  快捷操作")]),t._v(" "),i("el-form",{staticStyle:{color:"black"},attrs:{model:t.prerecord,disabled:""}},[i("el-form-item",{attrs:{label:"主诉"}},[i("el-input",{staticStyle:{width:"80%",float:"right"},attrs:{readonly:"",type:"textarea",autosize:{minRows:2,maxRows:3},placeholder:"主述"},model:{value:t.prerecord.chiefComplaint,callback:function(e){t.$set(t.prerecord,"chiefComplaint",e)},expression:"prerecord.chiefComplaint"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"现病史"}},[i("el-input",{staticStyle:{width:"80%",float:"right"},attrs:{readonly:"",type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"现病史"},model:{value:t.prerecord.historyOfPresentIllness,callback:function(e){t.$set(t.prerecord,"historyOfPresentIllness",e)},expression:"prerecord.historyOfPresentIllness"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"现病治疗情况"}},[i("el-input",{staticStyle:{width:"80%",float:"right"},attrs:{readonly:"",type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"现病治疗情况"},model:{value:t.prerecord.historyOfTreatment,callback:function(e){t.$set(t.prerecord,"historyOfTreatment",e)},expression:"prerecord.historyOfTreatment"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"既往史"}},[i("el-input",{staticStyle:{width:"80%",float:"right"},attrs:{readonly:"",type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"既往史"},model:{value:t.prerecord.pastHistory,callback:function(e){t.$set(t.prerecord,"pastHistory",e)},expression:"prerecord.pastHistory"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"过敏史"}},[i("el-input",{staticStyle:{width:"80%",float:"right"},attrs:{readonly:"",type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"过敏史"},model:{value:t.prerecord.allergies,callback:function(e){t.$set(t.prerecord,"allergies",e)},expression:"prerecord.allergies"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"体格检查"}},[i("el-input",{staticStyle:{width:"80%",float:"right"},attrs:{readonly:"",type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:"体格检查"},model:{value:t.prerecord.healthCheckup,callback:function(e){t.$set(t.prerecord,"healthCheckup",e)},expression:"prerecord.healthCheckup"}})],1)],1),t._v(" "),i("el-tag",{staticStyle:{"margin-bottom":"20px","margin-left":"-20px"}},[t._v("检查检验结果:")]),t._v(" "),i("el-form",{attrs:{model:t.record}},[i("el-form-item",{attrs:{label:"检查结果"}},[i("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"检查结果"},model:{value:t.prerecord.checkResult,callback:function(e){t.$set(t.prerecord,"checkResult",e)},expression:"prerecord.checkResult"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"检验结果"}},[i("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"检验结果"},model:{value:t.prerecord.testResult,callback:function(e){t.$set(t.prerecord,"testResult",e)},expression:"prerecord.testResult"}})],1)],1),t._v(" "),i("div",{staticStyle:{"margin-left":"-20px","margin-bottom":"30px"}},[i("el-tag",[t._v("评估诊断:")]),t._v(" "),i("el-card",{staticStyle:{width:"85%"}},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:t.addDis}},[t._v("添加诊断")]),t._v(" "),i("el-table",{attrs:{data:t.record}},[i("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.deleteDis(e.row)}}},[t._v("删除")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"ICD编码",prop:"icd"}}),t._v(" "),i("el-table-column",{attrs:{label:"名称",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"编码",prop:"code"}})],1)],1)],1),t._v(" "),i("div",[i("el-button",{staticStyle:{float:"right","margin-right":"30px"},attrs:{type:"primary"},on:{click:t.submitdefinite}},[t._v("提交")])],1)],1),t._v(" "),i("transition",{attrs:{name:"el-zoom-in-left"}},[i("el-main",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticStyle:{"border-style":"dotted","border-width":"0px 0px 0px 1px","border-color":"#C0C0C0","margin-top":"-12px"},attrs:{width:"50%"}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"常用诊断",name:"first"}},[i("el-table",{attrs:{data:t.medicineDiseIdList},on:{"row-click":t.selectDis}},[i("el-table-column",{attrs:{label:"ICD编码",prop:"icd"}}),t._v(" "),i("el-table-column",{attrs:{label:"名称",prop:"name"}})],1)],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"诊断目录",visible:t.dialogTableVisible,top:"50px"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("div",{staticStyle:{height:"520px"}},[i("span",[t._v("搜索诊断")]),t._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索诊断"},on:{change:t.getDis},model:{value:t.disQuery.name,callback:function(e){t.$set(t.disQuery,"name",e)},expression:"disQuery.name"}}),t._v(" "),i("el-table",{staticStyle:{"margin-top":"20px"},attrs:{"highlight-current-row":"",data:t.disList},on:{"row-click":t.selectDis}},[i("el-table-column",{attrs:{property:"icd",label:"ICD编码",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{property:"name",label:"名称",width:"350"}}),t._v(" "),i("el-table-column",{attrs:{property:"code",label:"编码",width:"200"}})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticStyle:{"margin-top":"0px"},attrs:{total:t.total,"page-sizes":"[]",page:t.disQuery.pageNum,limit:t.disQuery.pageSize},on:{"update:page":function(e){return t.$set(t.disQuery,"pageNum",e)},"update:limit":function(e){return t.$set(t.disQuery,"pageSize",e)},pagination:t.getDis}})],1)])],1)},pt=[],mt={props:["patient"],components:{Pagination:v["a"]},name:"Comfirm",data:function(){return{medicineDiseIdList:[],dialogTableVisible:!1,total:0,record:[],disQuery:{catId:"",code:"",name:"",icd:"",status:"",pageSize:8,pageNum:1},disList:[],prerecord:{},activeName:"first",isclose:!0,mainwidth:"60%",activeNames:["1"],data2:[{date:"0001",name:"王小虎1",address:"38岁"},{date:"0002",name:"王小虎2",address:"39岁"}]}},created:function(){this.getmedicineDiseIdList()},watch:{patient:function(t,e){this.patient=t,this.getnonend()}},methods:{getmedicineDiseIdList:function(){var t=this;Object(b["c"])({staffId:this.$store.getters.id,selectType:2}).then((function(e){t.medicineDiseIdList=e.data.medicineDiseList}))},submitdefinite:function(){var t=this;this.prerecord.definiteDiseStrList="",this.record.forEach((function(e){t.prerecord.definiteDiseStrList+=e.id+","})),this.prerecord.startDate=Object(g["f"])(this.prerecord.startDate).substr(0,10),this.prerecord.createTime=Object(g["f"])(this.prerecord.createTime).substr(0,10),this.prerecord.definiteDiseStrList=this.prerecord.definiteDiseStrList.substr(0,this.prerecord.definiteDiseStrList.length-1),u(this.prerecord).then((function(e){t.$notify({title:"成功",message:"已确诊!",type:"success",duration:2e3}),t.$emit("comfirmdms")}))},deleteDis:function(t){this.record=this.record.filter((function(e){return e.id!==t.id}))},selectDis:function(t){var e=this;this.$confirm("是否添加 "+t.name+" 到该患者?","添加诊断",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){var i=1;e.record.forEach((function(e){e.icd===t.icd&&(i=0)})),i?e.record.push(t):alert("已存在该诊断！"),e.dialogTableVisible=!1}))},addDis:function(){this.dialogTableVisible=!0,this.getDis()},getDis:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["g"])(this.disQuery);case 2:e=t.sent,this.disList=e.data.list,this.total=e.data.total;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getnonend:function(){var t=this;h(this.patient.registrationId).then((function(e){t.prerecord=e.data.dmsCaseHistoryList[0],Object(o["i"])(t.prerecord.priliminaryDiseIdList).then((function(e){t.record=e.data}))}))},controlfast:function(){this.isclose=!this.isclose,"60%"===this.mainwidth?this.mainwidth="80%":this.mainwidth="60%"}}},ht=mt,ft=Object(N["a"])(ht,ut,pt,!1,null,null,null),vt=ft.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",[i("el-aside",{staticStyle:{background:"white",padding:"0 10px 0 0"},attrs:{width:t.mainwidth}},[i("aside",{staticStyle:{margin:"0 0 0 0"}},[i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.addpre}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("新增处方")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.deletepre}},[i("i",{staticClass:"el-icon-remove-outline"}),t._v("删除处方")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.apply}},[i("i",{staticClass:"el-icon-circle-check"}),t._v("开立处方")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.invalid}},[i("i",{staticClass:"el-icon-circle-close"}),t._v("作废处方")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.saveDrugPrescription}},[i("i",{staticClass:"el-icon-upload2"}),t._v("暂存")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.getDrugPrescription}},[i("i",{staticClass:"el-icon-download"}),t._v("取出暂存项")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.refresh}},[i("i",{staticClass:"el-icon-refresh"}),t._v("刷新")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:t.controlfast}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isclose,expression:"!isclose"}],staticClass:"el-icon-caret-right"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticClass:"el-icon-caret-left"})])],1),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.prescriptionList,"tooltip-effect":"dark","cell-style":"text-align:center","header-cell-style":"text-align:center"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"处方名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"amount",label:"总金额(元)"}}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("未开立")]):t._e(),t._v(" "),0===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已作废")]):t._e(),t._v(" "),1===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("未缴费")]):t._e(),t._v(" "),2===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("未发药")]):t._e(),t._v(" "),3===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已发药")]):t._e(),t._v(" "),4===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已过期")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.status?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.showDetail(e.row)}}},[t._v("编辑")]):t._e()]}}])})],1)],1),t._v(" "),i("transition",{attrs:{name:"el-zoom-in-left"}},[i("el-main",{directives:[{name:"show",rawName:"v-show",value:t.isclose,expression:"isclose"}],staticStyle:{"border-style":"dotted","border-width":"0px 0px 0px 1px","border-color":"#C0C0C0","margin-top":"-12px"},attrs:{width:"50%"}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"草药模板",name:"first"}},[i("el-table",{attrs:{data:t.models,height:"230"},on:{"row-click":t.selectmodel,"row-dblclick":t.addmodel}},[i("el-table-column",{attrs:{label:"模板名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.name)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"目的"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.aim)+"\n          ")]}}])})],1),t._v(" "),i("el-card",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.model.name,expression:"model.name!==undefined"}],staticClass:"box-card",attrs:{shadow:"never","body-style":"font-size: 14px;font-family:'微软雅黑';width:350px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.model.name))])]),t._v(" "),i("p",[i("b",[t._v("模板目的：")]),t._v(t._s(t.model.aim))]),t._v(" "),i("p",[i("b",[t._v("模板总金额: ")]),t._v(t._s(t.model.amount))]),t._v(" "),i("p",[i("b",[t._v("模板项目：")])]),t._v(" "),t._l(t.model.druglist,(function(e,a){return i("p",{key:a},[i("b"),t._v(" "+t._s(e.name))])}))],2)],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"处方详细",visible:t.dialogTableVisible,width:"1500px",top:"20px"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("el-container",[i("el-aside",{staticStyle:{padding:"0 0 0 0",margin:"0 0 0 0"},attrs:{width:"30%"}},[i("div",[i("el-tag",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[t._v("常用药品")]),t._v(" "),i("el-table",{attrs:{data:t.freqlist,height:"200px"},on:{"row-click":t.choosedrug}},[i("el-table-column",{attrs:{label:"药品名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"价格(元)",prop:"price",width:"100px"}})],1)],1),t._v(" "),i("el-tag",{staticStyle:{width:"100%",height:"30px"},attrs:{type:"primary"}},[t._v("药品目录\n        \n        "),i("el-button",{staticStyle:{width:"20px",float:"right"},attrs:{type:"primary",size:"mini"}},[i("svg-icon",{staticStyle:{"margin-left":"-6px"},attrs:{"icon-class":"search"}})],1),t._v(" "),i("el-input",{staticStyle:{width:"60%",float:"right"},attrs:{size:"mini",placeholder:"药品名称"},on:{change:t.getdrugList},model:{value:t.searchdrug,callback:function(e){t.searchdrug=e},expression:"searchdrug"}})],1),t._v(" "),i("el-table",{attrs:{data:t.drugList,height:"300px"},on:{"row-click":t.choosedrug}},[i("el-table-column",{attrs:{label:"药品名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"价格(元)",prop:"price",width:"100px"}})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticStyle:{"margin-top":"0px"},attrs:{layout:"prev, pager, next","auto-scroll":"false","page-sizes":"[]",total:t.total,page:t.page.pageNum,limit:t.page.pageSize},on:{"update:page":function(e){return t.$set(t.page,"pageNum",e)},"update:limit":function(e){return t.$set(t.page,"pageSize",e)},pagination:t.getdrugList}}),t._v(" "),i("div")],1),t._v(" "),i("el-main",[t.edit?t._e():i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.createpre}},[t._v("增加处方")]),t._v(" "),t.edit?i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.changepre}},[t._v("修改处方")]):t._e(),t._v(" "),i("el-form",{attrs:{inline:"","label-width":"100px"}},[i("el-form-item",{attrs:{label:"处方名"}},[i("el-input",{attrs:{placeholder:"处方名"},model:{value:t.oneprescription.name,callback:function(e){t.$set(t.oneprescription,"name",e)},expression:"oneprescription.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"嘱托"}},[i("el-input",{attrs:{placeholder:"嘱托"},model:{value:t.oneprescription.medicalAdvice,callback:function(e){t.$set(t.oneprescription,"medicalAdvice",e)},expression:"oneprescription.medicalAdvice"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"治法"}},[i("el-input",{attrs:{placeholder:"治法"},model:{value:t.oneprescription.therapy,callback:function(e){t.$set(t.oneprescription,"therapy",e)},expression:"oneprescription.therapy"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"用法"}},[i("el-input",{attrs:{placeholder:"用法"},model:{value:t.oneprescription.usageMeans,callback:function(e){t.$set(t.oneprescription,"usageMeans",e)},expression:"oneprescription.usageMeans"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"付数"}},[i("el-input",{attrs:{placeholder:"付数"},model:{value:t.oneprescription.pairNum,callback:function(e){t.$set(t.oneprescription,"pairNum",e)},expression:"oneprescription.pairNum"}})],1)],1),t._v(" "),i("el-tag",{attrs:{type:"primary"}},[t._v("项目金额总计:")]),t._v(" "),i("el-tag",{attrs:{type:"warning"}},[t._v(t._s(t.oneprescription.amount)+"元")]),t._v(" "),i("el-table",{attrs:{height:"500px",data:t.oneprescription.druglist,"cell-style":"text-align:center","header-cell-style":"text-align:center"}},[i("el-table-column",{attrs:{width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.deldrug(e.row)}}},[t._v("删除")])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"name",label:"药品名",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{property:"format",label:"规格",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{property:"price",label:"单价"}}),t._v(" "),i("el-table-column",{attrs:{label:"数量",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",min:1,max:100,size:"mini"},on:{change:function(i){return t.changenum(e.row)}},model:{value:e.row.num,callback:function(i){t.$set(e.row,"num",i)},expression:"scope.row.num"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"剂型",width:"130px",prop:"dosage.name"}}),t._v(" "),i("el-table-column",{attrs:{label:"医嘱",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{placeholder:"医嘱"},model:{value:e.row.medicalAdvice,callback:function(i){t.$set(e.row,"medicalAdvice",i)},expression:"scope.row.medicalAdvice"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"脚注",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{placeholder:"脚注"},model:{value:e.row.footnote,callback:function(i){t.$set(e.row,"footnote",i)},expression:"scope.row.footnote"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"频次",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:e.row.frequency,callback:function(i){t.$set(e.row,"frequency",i)},expression:"scope.row.frequency"}},t._l([{key:1,label:"一天一次"},{key:2,label:"一天三次"}],(function(t){return i("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})})),1)]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"用量",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{placeholder:""},model:{value:e.row.usageNum,callback:function(i){t.$set(e.row,"usageNum",i)},expression:"scope.row.usageNum"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"单位",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:e.row.usageNumUnit,callback:function(i){t.$set(e.row,"usageNumUnit",i)},expression:"scope.row.usageNumUnit"}},t._l([{key:1,label:"片"},{key:2,label:"支"},{key:3,label:"瓶"},{key:2,label:"克"}],(function(t){return i("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})})),1)]}}])})],1)],1)],1)],1)],1)},gt=[],_t=i("541d"),yt=i("7ca2"),wt={name:"",druglist:[],amount:0,status:-1},kt={props:["patient"],components:{Pagination:v["a"]},name:"Prescription",data:function(){return{modelvisivle:!1,model:{},models:[],freqlist:[],refs:[],prescriptionList:[],oneprescription:{name:"",druglist:[],amount:0,status:-1},edit:!1,test:"",num:0,dialogTableVisible:!1,activeName:"first",isclose:!0,record:{main:"test"},page:{pageNum:1,pageSize:10},searchdrug:"",drugList:[],total:0,mainwidth:"65%",activeNames:["1"],data2:[{date:"0001",name:"王小虎1",address:"38"},{date:"0002",name:"王小虎2",address:"39"}]}},watch:{patient:function(t,e){this.patient=t,this.listByReg()}},created:function(){this.listModel()},methods:(P={addmodel:function(t){t.amount=Math.floor(100*(t.amount+.5))/100,t.status=-1,this.prescriptionList.push(t)},selectmodel:function(t){this.model=Object(g["c"])(t),this.model.amount=Math.floor(100*(this.model.amount+.5))/100,this.modelvisivle=!0},listModel:function(){var t=this,e={scope:0};e.ownId=this.$store.getters.id,e.type=2,e.pageSize=1e3,e.pageNum=1,e.isAdmin=0,Object(Z["c"])(e).then((function(e){t.models=e.data.list,t.models.forEach((function(t){t.druglist=[],t.amount=0,t.dmsMedicineModelItemList.forEach((function(e){var i={};Object(X["f"])(e.id).then((function(a){i=a.data,i.days=e.days,i.frequency=e.frequency,i.medicalAdvice=e.medicalAdvice,i.medicineUsage=e.medicineUsage,i.usageMeans=e.usageMeans,i.usageNum=e.usageNum,i.usageNumUnit=e.usageNumUnit,t.amount+=i.price*e.num,t.druglist.push(Object(g["c"])(i))}))})),t.amount=Math.floor(100*(t.amount+.5))/100}))}))},saveDrugPrescription:function(){var t=this;x(this.refs,this.patient.registrationId,5).then((function(e){t.$notify({title:"成功",message:"已暂存选中的草药处方",type:"success",duration:2e3})}))},addfreitem:function(t){this.selectCheck(t)},getfreqList:function(){var t=this,e={};e.staffId=this.$store.getters.id,e.selectType=6,Object(b["c"])(e).then((function(e){t.freqlist=e.data.drugList.filter((function(t){if(103===t.typeId)return!0}))}))},refresh:function(){var t=this;this.$confirm("未开立的处方都将清除,确认刷新?","刷新",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.listByReg()}))}},Object(_t["a"])(P,"addfreitem",(function(t){this.selectCheck(t)})),Object(_t["a"])(P,"getfreqList",(function(){var t=this,e={};e.staffId=this.$store.getters.id,e.selectType=6,Object(b["c"])(e).then((function(e){t.freqlist=e.data.drugList.filter((function(t){if(103===t.typeId)return!0}))}))})),Object(_t["a"])(P,"deletepre",(function(){var t=this.refs[0].name;this.prescriptionList=this.prescriptionList.filter((function(e){return e.name!==t}))})),Object(_t["a"])(P,"invalid",(function(){var t=this,e=this.refs[0];Object(yt["b"])(e.dmsHerbalItemRecordResultList[0].prescriptionId).then((function(e){t.$notify({title:"成功",message:e.message,type:"success",duration:2e3}),t.listByReg()}))})),Object(_t["a"])(P,"listByReg",function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(yt["d"])(this.patient.registrationId).then((function(t){e.prescriptionList=t.data}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()),Object(_t["a"])(P,"handleSelectionChange",(function(t){this.refs=t})),Object(_t["a"])(P,"apply",function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.refs[0],e.createStaffId=this.$store.getters.id,e.registrationId=this.patient.registrationId,e.dmsHerbalItemRecordList=e.druglist,e.dmsHerbalItemRecordList.forEach((function(t){t.drugId=t.id,t.currentNum=t.num,t.totalNum=t.num})),Object(yt["a"])(e).then((function(t){i.$notify({title:"成功",message:t.message,type:"success",duration:2e3}),i.listByReg()}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()),Object(_t["a"])(P,"createpre",(function(){this.edit=!1,this.prescriptionList.push(this.oneprescription),this.dialogTableVisible=!1})),Object(_t["a"])(P,"changepre",(function(){this.dialogTableVisible=!1})),Object(_t["a"])(P,"changenum",(function(t){var e=this;this.oneprescription.amount=0,this.oneprescription.druglist.forEach((function(t){e.oneprescription.amount+=t.price*t.num})),this.oneprescription.amount=Math.floor(100*(this.oneprescription.amount+.5))/100})),Object(_t["a"])(P,"deldrug",(function(t){this.oneprescription.druglist=this.oneprescription.druglist.filter((function(e){return e.id!==t.id}))})),Object(_t["a"])(P,"choosedrug",(function(t){var e=1;this.oneprescription.druglist.forEach((function(i){i.id===t.id&&(i.num+=1,e=0)})),e&&(this.oneprescription.amount+=t.price,this.oneprescription.amount=Math.floor(100*(this.oneprescription.amount+.5))/100,this.oneprescription.druglist.push(t),this.oneprescription.druglist.forEach((function(t){void 0===t.num&&(t.num=1)})))})),Object(_t["a"])(P,"getdrugList",function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.pageSize=this.page.pageSize,e.pageNum=this.page.pageNum,e.typeId=103,e.status=1,e.name=this.searchdrug,t.next=8,Object(X["e"])(e);case 8:i=t.sent,this.drugList=i.data.list,this.total=i.data.total;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()),Object(_t["a"])(P,"addpre",(function(){this.getfreqList(),this.oneprescription=Object(g["c"])(wt),this.getdrugList(),this.dialogTableVisible=!0})),Object(_t["a"])(P,"showDetail",(function(t){this.edit=!0,this.getfreqList(),this.getdrugList(),this.oneprescription=t,this.dialogTableVisible=!0})),Object(_t["a"])(P,"controlfast",(function(){this.isclose=!this.isclose,"65%"===this.mainwidth?this.mainwidth="80%":this.mainwidth="65%"})),P)},xt=kt,St=Object(N["a"])(xt,bt,gt,!1,null,null,null),Dt=St.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-table",{attrs:{data:t.bill,height:"530px"}},[i("el-table-column",{attrs:{label:"项目名",prop:"itemName"}}),t._v(" "),i("el-table-column",{attrs:{label:"规格",prop:"format"}}),t._v(" "),i("el-table-column",{attrs:{label:"数量",prop:"currentNum"}}),t._v(" "),i("el-table-column",{attrs:{label:"单价",prop:"price"}}),t._v(" "),i("el-table-column",{attrs:{label:"总金额",prop:"totalprice"}}),t._v(" "),i("el-table-column",{attrs:{label:"类型",prop:"type"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.type?i("span",[t._v("检查")]):t._e(),t._v(" "),1===e.row.type?i("span",[t._v("检验")]):t._e(),t._v(" "),2===e.row.type?i("span",[t._v("处置")]):t._e(),t._v(" "),4===e.row.type?i("span",[t._v("草药处方")]):t._e(),t._v(" "),5===e.row.type?i("span",[t._v("成药处方")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?i("el-tag",{attrs:{type:"warning"}},[t._v("未缴费")]):t._e(),t._v(" "),0===e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v("作废")]):t._e(),t._v(" "),2===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已缴费")]):t._e(),t._v(" "),3===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已登记")]):t._e(),t._v(" "),4===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("已执行")]):t._e(),t._v(" "),5===e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v("已退费")]):t._e(),t._v(" "),6===e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v("已过期")]):t._e()]}}])})],1)],1)},Nt=[];function It(t){return Object(c["a"])({url:"/feeQuery/listByRegistration",method:"post",params:{registrationId:t}})}var Lt={name:"Bill",props:["patient"],watch:{patient:function(t,e){this.patient=t,this.queryBill()}},data:function(){return{bill:[]}},created:function(){},methods:{queryBill:function(){var t=this;It(this.patient.registrationId).then((function(e){t.bill=e.data,t.bill.forEach((function(t){t.totalprice=t.price*t.currentNum}))}))}}},Ot=Lt,jt=Object(N["a"])(Ot,Ct,Nt,!1,null,null,null),$t=jt.exports,Rt=i("d0de"),Tt=(i("f1ac"),{components:{Record:L,Inspection:H,Examine:G,Prescription:st,Handle:dt,Comfirm:vt,Cprescription:Dt,Bill:$t},data:function(){return{comfirmdisabled:!0,firstdisabled:!0,mask:!0,loaddepp:!0,patient:{},deptWaitList:[],personalDuringList:[],personalEndList:[],personalWaitList:[],defaultProps:{children:"children",label:"label"},mouldname:"",dialog1:!1,dialog2:!1,search:"",isaside:!0,activeName:"first",activeName2:"first"}},created:function(){this.getPatientList()},methods:{comfirmdms:function(){var t=this;h(this.patient.registrationId).then((function(e){t.comfirmdisabled=!0,0!==e.data.dmsCaseHistoryList.length?(t.activeName2="second",2===e.data.dmsCaseHistoryList[0].status&&(t.comfirmdisabled=!1,t.activeName2="fiveth"),t.firstdisabled=!1):(t.firstdisabled=!0,t.activeName2="first"),t.patient=val,t.$refs.record.controlfast()}))},priliminary:function(){var t=this;h(this.patient.registrationId).then((function(e){t.comfirmdisabled=!0,0!==e.data.dmsCaseHistoryList.length?(2===e.data.dmsCaseHistoryList[0].status&&(t.comfirmdisabled=!1,t.activeName2="fiveth"),t.firstdisabled=!1,t.activeName2="second"):(t.firstdisabled=!0,t.activeName2="first"),t.patient=val,t.$refs.record.controlfast()}))},endDiagnosis:function(){var t=this;p(this.patient.registrationId).then((function(e){t.$notify({title:"成功",message:"已诊毕！",type:"success",duration:2e3}),t.showaside(),t.getPatientList()}))},continuing:function(t){var e=this;this.$confirm("确认继续诊断患者 "+t.patientName+"?","就诊",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){h(t.registrationId).then((function(i){e.comfirmdisabled=!0,0!==i.data.dmsCaseHistoryList.length?(e.activeName2="second",2===i.data.dmsCaseHistoryList[0].status&&(e.comfirmdisabled=!1,e.activeName2="fiveth"),e.firstdisabled=!1):(e.firstdisabled=!0,e.activeName2="first"),e.patient=t,e.showaside(),e.$refs.record.controlfast()}))}))},bindPatient:function(t){var e=this;this.$confirm("确认绑定患者 "+t.patientName+"?","就诊",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){Object(Rt["a"])(t.registrationId,e.$store.getters.id).then((function(t){e.getPatientList(),e.$notify({title:"成功",message:"成功绑定该患者!",type:"success",duration:2e3})}))}))},handleCurrentChange:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$confirm("确认开始诊断患者 "+e.patientName+"?","就诊",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){Object(Rt["d"])(e.registrationId).then((function(t){i.$notify({title:"成功",message:"开始诊断",type:"success",duration:2e3}),i.patient=e,i.showaside(),i.$refs.record.controlfast()}))}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getPatientList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loaddepp=!0,t.next=3,Object(Rt["b"])(this.$store.getters.id).then((function(t){e.deptWaitList=t.data.deptWaitList,e.personalDuringList=t.data.personalDuringList,e.personalEndList=t.data.personalEndList,e.personalWaitList=t.data.personalWaitList,e.loaddepp=!1})).catch((function(t){e.loaddepp=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showaside:function(){!1===this.isaside?(this.isaside=!0,this.mask=!0):(this.isaside=!1,this.mask=!1)},storeRecord:function(){this.dialog1=!0}}}),zt=Tt,Pt=(i("83349"),Object(N["a"])(zt,a,s,!1,null,null,null));e["default"]=Pt.exports},"0e8e":function(t,e,i){"use strict";i("e95e")},"15d7":function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return l}));var a=i("b775");function s(t){return Object(a["a"])({url:"/NonDrugModel/listModel",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/NonDrugModel/updateModel",method:"post",params:{modelId:t.id},data:t})}function r(t){return Object(a["a"])({url:"/NonDrugModel/createModel",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/NonDrugModel/deleteModel",method:"post",params:{ids:t}})}},"1e0f":function(t,e,i){"use strict";i.d(e,"e",(function(){return s})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"g",(function(){return l})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return c})),i.d(e,"f",(function(){return d}));var a=i("b775");function s(t){return Object(a["a"])({url:"/drug/selectDrug",method:"post",params:t})}function n(){return Object(a["a"])({url:"/drug/selectAllDrug",method:"get"})}function r(){return Object(a["a"])({url:"/drug/selectAllDosage",method:"get"})}function l(t){return Object(a["a"])({url:"/drug/updateDrug/"+t.id,method:"post",data:t})}function o(t){return Object(a["a"])({url:"/drug/deleteDrug",method:"post",params:{ids:t}})}function c(t){return Object(a["a"])({url:"/drug/createDrug",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/drug/selectById",method:"get",params:{id:t}})}},"52b1":function(t,e,i){},"5dd3":function(t,e,i){"use strict";i.d(e,"e",(function(){return s})),i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"f",(function(){return l})),i.d(e,"d",(function(){return o})),i.d(e,"c",(function(){return c}));var a=i("b775");function s(t,e){return Object(a["a"])({url:"/DmsCaseModel/listModelCatTree",method:"post",params:{ownId:t,scope:e}})}function n(t){return Object(a["a"])({url:"/DmsCaseModel/create",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/DmsCaseModel/deleteModelOrCat",method:"post",params:{id:t}})}function l(t){return Object(a["a"])({url:"/DmsCaseModel/updateModel",method:"post",params:{modelId:t.modelId},data:t})}function o(t){return Object(a["a"])({url:"/DmsCaseModel/getModelDetail/"+t,method:"get"})}function c(t){return Object(a["a"])({url:"/DmsCaseModel/getAllStaffModel",method:"get",params:{staffId:t}})}},7665:function(t,e,i){"use strict";i.d(e,"h",(function(){return s})),i.d(e,"g",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return l})),i.d(e,"f",(function(){return o})),i.d(e,"a",(function(){return c})),i.d(e,"e",(function(){return d})),i.d(e,"c",(function(){return u})),i.d(e,"i",(function(){return p}));var a=i("b775");function s(){return Object(a["a"])({url:"/DmsDiseCatalog/listAll",method:"post"})}function n(t){return Object(a["a"])({url:"/DmsDise/list",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/DmsDiseCatalog/create",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/DmsDiseCatalog/delete",method:"post",params:{ids:t}})}function o(t){return Object(a["a"])({url:"/DmsDiseCatalog/update/"+t.id,method:"post",data:t})}function c(t){return Object(a["a"])({url:"/DmsDise/create",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/DmsDise/update/"+t.id,method:"post",data:t})}function u(t){return Object(a["a"])({url:"/DmsDise/delete",method:"post",params:{ids:t}})}function p(t){return Object(a["a"])({url:"/DmsDise/parseList",method:"post",params:{idsStr:t}})}},"7ca2":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return l}));var a=i("b775");function s(t){return Object(a["a"])({url:"/DmsHerbalPrescriptionRecord/apply",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/DmsHerbalPrescriptionRecord/listByReg",method:"post",params:{registrationId:t}})}function r(t){return Object(a["a"])({url:"/DmsHerbalPrescriptionRecord/listByIds",method:"post",params:{ids:t}})}function l(t){return Object(a["a"])({url:"/DmsHerbalPrescriptionRecord/invalid",method:"post",params:{ids:t}})}},83349:function(t,e,i){"use strict";i("52b1")},a6b2:function(t,e,i){"use strict";i.d(e,"d",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"e",(function(){return r})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return o}));var a=i("b775");function s(t){return Object(a["a"])({url:"/DmsNonDrug/list",method:"get",params:t})}function n(){return Object(a["a"])({url:"/DmsNonDrug/listAll",method:"post"})}function r(t){return Object(a["a"])({url:"/DmsNonDrug/update/"+t.id,method:"post",data:t})}function l(t){return Object(a["a"])({url:"/DmsNonDrug/delete",method:"post",params:{ids:t}})}function o(t){return Object(a["a"])({url:"/DmsNonDrug/create",method:"post",data:t})}},bf23:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return l}));var a=i("b775");function s(t){return Object(a["a"])({url:"/DmsMedicinePrescriptionRecord/apply",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/DmsMedicinePrescriptionRecord/listByReg",method:"post",params:{registrationId:t}})}function r(t){return Object(a["a"])({url:"/DmsMedicinePrescriptionRecord/listByIds",method:"post",params:{ids:t}})}function l(t){return Object(a["a"])({url:"/DmsMedicinePrescriptionRecord/invalid",method:"post",params:{ids:t}})}},d0de:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return n})),i.d(e,"d",(function(){return r})),i.d(e,"c",(function(){return l}));var a=i("b775");function s(t){return Object(a["a"])({url:"/diagnosisPatient/refreshPatient",method:"post",params:{staffId:t}})}function n(t,e){return Object(a["a"])({url:"/diagnosisPatient/bindPatient",method:"get",params:{registrationId:t,staffId:e}})}function r(t){return Object(a["a"])({url:"/diagnosisPatient/startDiagnosis",method:"get",params:{registrationId:t}})}function l(t){return Object(a["a"])({url:"/diagnosisPatient/selectPatientByIdNo",method:"post",params:{identificationNo:t}})}},e3c7:function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r}));var a=i("b775");function s(t){return Object(a["a"])({url:"/frequentUsed/selectByType",method:"post",params:{staffId:t.staffId,selectType:t.selectType}})}function n(t){return Object(a["a"])({url:"/frequentUsed/add",method:"post",params:{staffId:t.staffId,addType:t.addType,addId:t.addId}})}function r(t){return Object(a["a"])({url:"/frequentUsed/delete",method:"post",params:{staffId:t.staffId,deleteType:t.deleteType,deleteId:t.deleteId}})}},e95e:function(t,e,i){},efa4:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return l}));var a=i("b775");function s(t){return Object(a["a"])({url:"/drugModel/createModel",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/drugModel/deleteModel",method:"post",params:{ids:t}})}function r(t){return Object(a["a"])({url:"/drugModel/listModel",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/drugModel/updateModel",method:"post",params:{modelId:t.id},data:t})}},f1ac:function(t,e){}}]);